webpackJsonp([0],{0:function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(23);i.enableProdMode(),r.platformBrowserDynamic().bootstrapModule(o.AppModule)},23:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(21),s=n(24),c=n(25);n(58);var l=n(62),d=n(64),p=n(69),u=n(404),f=function(){function AppModule(){}return AppModule=r([o.NgModule({imports:[a.BrowserModule,s.HttpModule,c.routing,p.BookingModule,u.TimetableModule],declarations:[d.AppComponent],providers:[l.ApiService,c.appRoutingProviders],bootstrap:[d.AppComponent]}),i("design:paramtypes",[])],AppModule)}();t.AppModule=f},25:function(e,t,n){"use strict";var r=n(26),i=[];t.appRoutingProviders=[],t.routing=r.RouterModule.forRoot(i)},62:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(24),s=n(63),c=function(){function ApiService(e){this.http=e}return ApiService.prototype.get=function(e,t){return this.http.get(e,t).map(function(e){return e.json()})},ApiService.prototype.getLocations=function(e){return this.http.get(s.ApiUrl.locationApiUrl+"?name="+e).map(function(e){return e.json()})},ApiService.prototype.post=function(e,t){return this.http.post(e,t).map(function(e){return e.json()})},ApiService=r([o.Injectable(),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.Http&&a.Http)&&e||Object])],ApiService);var e}();t.ApiService=c},63:function(e,t){"use strict";var n=function(){function ApiUrl(){}return ApiUrl.locationApiUrl="http://roticket.azurewebsites.net/api/timetable/location",ApiUrl.journeyApiUrl="http://roticket.azurewebsites.net/api/timetable/journey",ApiUrl.stationInfoApiUrl="http://roticket.azurewebsites.net/api/timetable/station-info",ApiUrl.routeInfoApiUrl="http://roticket.azurewebsites.net/api/timetable/route-info",ApiUrl}();t.ApiUrl=n},64:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3);n(65);var a=function(){function AppComponent(){}return AppComponent=r([o.Component({selector:"my-app",template:n(68)}),i("design:paramtypes",[])],AppComponent)}();t.AppComponent=a},65:58,68:function(e,t){e.exports=' <ul>\r\n     <li><a routerLink="/booking/search" routerLinkActive="active">Booking Search</a></li>\r\n     <li><a routerLink="/timetable" routerLinkActive="active">Timetable</a></li>\r\n</ul>                \r\n<router-outlet></router-outlet>'},69:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(70),s=n(22),c=n(72),l=n(73),d=n(87),p=n(78),u=n(79),f=n(81),m=n(83),v=n(89),g=n(91),h=n(93),y=n(95),b=n(85),S=n(97),k=n(74),T=n(62),C=n(63),x=n(98),R=function(){function BookingModule(){}return BookingModule=r([o.NgModule({imports:[a.FormsModule,s.CommonModule,c.bookingRouting,x.NgbModule,S.SharedModule],declarations:[l.BookingComponent,d.BookingStepsComponent,p.BookingHomeComponent,u.BookingSearchComponent,f.BookingSelectComponent,m.BookingSelectJourneyComponent,v.JourneyDetailsComponent,g.TrainSegmentComponent,h.WaitSegmentComponent,y.WalkSegmentComponent,b.BookingSelectOfferComponent],providers:[k.BookingService,T.ApiService,C.ApiUrl]}),i("design:paramtypes",[])],BookingModule)}();t.BookingModule=R},72:function(e,t,n){"use strict";var r=n(26),i=n(73),o=n(78),a=n(79),s=n(81),c=n(83),l=n(85),d=n(75),p=[{path:"booking",component:i.BookingComponent,children:[{path:"home",component:o.BookingHomeComponent},{path:"search",component:a.BookingSearchComponent,data:{step:d.BookingStep.searchStep}},{path:"select",component:s.BookingSelectComponent,children:[{path:"outward",component:c.BookingSelectJourneyComponent,data:{step:d.BookingStep.selectStep}},{path:"return",component:c.BookingSelectJourneyComponent,data:{step:d.BookingStep.selectStep}},{path:"offer",component:l.BookingSelectOfferComponent,data:{step:d.BookingStep.selectStep}}]}]},{path:"",redirectTo:"/booking/search",pathMatch:"full"}];t.bookingRouting=r.RouterModule.forChild(p)},73:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74);n(76);var s=function(){function BookingComponent(e){this.bookingService=e}return BookingComponent=r([o.Component({template:n(77)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingComponent);var e}();t.BookingComponent=s},74:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(62),s=n(63),c=n(26),l=n(75),d=6e4,p=1e3,u=function(){function BookingService(e,t,n){this.apiService=e,this.router=t,this.activatedRoute=n,this.showSpinner=!1,this.showRoutes=!1,this.isReferenceDateCalendarOpened=!1,this.journeyResults=4,this.minTransferTimeList=[1,2,3,4,5,6],this.resultsCountList=[10,15,20,25,30,35,40,45,50,55,60],this.departureLocation={displayName:"BUCURESTI (all stations)",index:70051,isCity:!0,countryName:"Romania"},this.arrivalLocation={displayName:"BUDAPEST (all stations)",index:70052,isCity:!0,countryName:"Hungary"},this.bookingSteps=l.BookingStep.bookingSteps,this.searchType="oneWay";var r=new Date,i=new Date(r.getTime()-r.getTimezoneOffset()*d-r.getSeconds()*p-r.getMilliseconds());this.searchParams={searchDirection:"forward",referenceLocalDateTime:i,minTransferTime:5,maxNumberOfChanges:5,resultsCount:1,searchCriteria:"DurationFirst",stationValidityInMinutes:420,arrivalLocationIndex:null,departureLocationIndex:null,ignoreTransitLocalTrains:!0},this.returnSearchParams={searchDirection:"forward",referenceLocalDateTime:i,minTransferTime:5,maxNumberOfChanges:5,resultsCount:1,searchCriteria:"DurationFirst",stationValidityInMinutes:420,arrivalLocationIndex:null,departureLocationIndex:null,ignoreTransitLocalTrains:!0}}return BookingService.prototype.getStepStatus=function(e){return this.currentStep?e.orderNumber<this.currentStep.orderNumber?"ok":e.orderNumber===this.currentStep.orderNumber?"current":"":""},BookingService.prototype.departureLocationChange=function(e){this.departureLocation=e,e&&console.log("departureLocationUpdated from booking.service: "+e.displayName)},BookingService.prototype.arrivalLocationChange=function(e){this.arrivalLocation=e,e&&console.log("arrivalLocationUpdated from booking.service: "+e.displayName)},BookingService.prototype.outwardDateTimeChange=function(e){console.log("outwardDateTimeChange from booking.service to "+e)},BookingService.prototype.returnDateTimeChange=function(e){console.log("returnDateTimeChange from booking.service to "+e)},BookingService.prototype.changeSearchType=function(e){this.searchType=e},BookingService.prototype.search=function(){this.router.navigate(["booking/select/outward"])},BookingService.prototype.beginSearch=function(){var e={};"/booking/select/outward"===this.router.url?(Object.assign(e,this.searchParams),e.departureLocationIndex=this.departureLocation.index,e.arrivalLocationIndex=this.arrivalLocation.index):(Object.assign(e,this.returnSearchParams),e.departureLocationIndex=this.arrivalLocation.index,e.arrivalLocationIndex=this.departureLocation.index),this.journeyList=[],this.getNextJourney(e,e.resultsCount)},BookingService.prototype.modifyJourney=function(){this.outwardJourney=null,this.returnJourney=null,this.router.navigate(["booking/search"])},BookingService.prototype.getNextJourney=function(e,t){var n=this;0!=t&&(this.showSpinner=!0,this.apiService.post(s.ApiUrl.journeyApiUrl,e).toPromise().then(function(r){n.showSpinner=!1,n.showRoutes=!0;var i=r.journeyList[0];r.journeyList.forEach(function(e){n.journeyList.push(e)}),e.referenceLocalDateTime=new Date(new Date(i.departureLocalDateTime).getTime()+d),n.getNextJourney(e,t-1)},function(e){n.showSpinner=!1,console.error(e.message)}))},BookingService.prototype.swapLocations=function(){var e=this.arrivalLocation;this.arrivalLocation=this.departureLocation,this.departureLocation=e},BookingService.prototype.loadLaterJourneys=function(){var e=this,t={};"/booking/select/outward"===this.router.url?(Object.assign(t,this.searchParams),t.departureLocationIndex=this.departureLocation.index,t.arrivalLocationIndex=this.arrivalLocation.index):(Object.assign(t,this.returnSearchParams),t.departureLocationIndex=this.arrivalLocation.index,t.arrivalLocationIndex=this.departureLocation.index);var n=new Date;t.referenceLocalDateTime=new Date(n.getTime()+6e4),t.searchDirection="forward",this.showSpinner=!0,this.apiService.post(s.ApiUrl.journeyApiUrl,t).toPromise().then(function(t){t.journeyList.forEach(function(t){e.journeyList.push(t),e.showSpinner=!1})})},BookingService.prototype.loadEarlierJourneys=function(){var e=this,t={};"/booking/select/outward"===this.router.url?(Object.assign(t,this.searchParams),t.departureLocationIndex=this.departureLocation.index,t.arrivalLocationIndex=this.arrivalLocation.index):(Object.assign(t,this.returnSearchParams),t.departureLocationIndex=this.arrivalLocation.index,t.arrivalLocationIndex=this.departureLocation.index);var n=new Date;t.referenceLocalDateTime=new Date(n.getTime()-6e4),t.searchDirection="backward",this.showSpinner=!0,this.apiService.post(s.ApiUrl.journeyApiUrl,t).toPromise().then(function(t){t.journeyList.forEach(function(t){e.journeyList.unshift(t),e.showSpinner=!1})})},BookingService.prototype.setOutwardJourney=function(e){this.outwardJourney=e,"oneWay"===this.searchType?this.router.navigate(["booking/select/offer"]):this.router.navigate(["booking/select/return"])},BookingService.prototype.setReturnJourney=function(e){this.returnJourney=e,this.router.navigate(["booking/select/offer"])},BookingService.prototype.showSetOutwardJourneyButton=function(){return"/booking/select/outward"===this.router.url},BookingService.prototype.showSetReturnJourneyButton=function(){return"/booking/select/return"===this.router.url},BookingService=r([o.Injectable(),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ApiService&&a.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof c.Router&&c.Router)&&t||Object,"function"==typeof(n="undefined"!=typeof c.ActivatedRoute&&c.ActivatedRoute)&&n||Object])],BookingService);var e,t,n}();t.BookingService=u},75:function(e,t){"use strict";var n=function(){function BookingStep(){}return BookingStep.searchStep={orderNumber:1,className:"fa-search",displayName:"Search",href:"booking/search",name:"booking.search"},BookingStep.selectStep={orderNumber:2,className:"fa-list-ul",displayName:"Select",href:"booking/select/outward",name:"booking.select"},BookingStep.ticketStep={orderNumber:3,className:"fa-ticket",displayName:"Ticket",href:"booking/ticket",name:"booking.ticket"},BookingStep.payStep={orderNumber:4,className:"fa-credit-card",displayName:"Pay",href:"booking/pay",name:"booking.pay"},BookingStep.bookStep={orderNumber:5,className:"fa-check-square-o",displayName:"Book",href:"booking/book",name:"booking.book"},BookingStep.confirmStep={orderNumber:6,className:"fa-shield",displayName:"Confirm",href:"booking/confirm",name:"booking.confirm"},BookingStep.bookingSteps=[BookingStep.searchStep,BookingStep.selectStep,BookingStep.ticketStep,BookingStep.payStep,BookingStep.bookStep,BookingStep.confirmStep],BookingStep}();t.BookingStep=n},77:function(e,t){e.exports='<div class="container p30 inLeft">\r\n    <rtt-booking-steps></rtt-booking-steps>\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n'},78:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function BookingHomeComponent(){}return BookingHomeComponent=r([o.Component({template:"<h1>Booking Home Component</h1>"}),i("design:paramtypes",[])],BookingHomeComponent)}();t.BookingHomeComponent=a},79:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function BookingSearchComponent(e){this.bookingService=e}return BookingSearchComponent=r([o.Component({selector:"rtt-booking-search",template:n(80)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSearchComponent);var e}();t.BookingSearchComponent=s},80:function(e,t){e.exports='\r\n<form (ngSubmit)="bookingService.search()">\r\n    <div class="row">\r\n        <div class="col-xs-12 nopadding">\r\n            <h2><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> Find your journey</h2>\r\n\r\n            <div class="btn-group btn-group-justified direction" role="group" aria-label="...">\r\n\r\n                <div class="btn-group" role="group">\r\n                    <button type="button" class="btn"\r\n                            [ngClass]="{\'btn-success\':bookingService.searchType == \'oneWay\'}"\r\n                            (click)="bookingService.changeSearchType(\'oneWay\')">\r\n                        <span>One way trip</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class="btn-group" role="group">\r\n                    <button type="button" class="btn"\r\n                            [ngClass]="{\'btn-success\': bookingService.searchType == \'roundtrip\'}"\r\n                            (click)="bookingService.changeSearchType(\'roundtrip\')">\r\n                        <span>Roundtrip</span>\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class="card destination">\r\n\r\n                <div class="dep-journey">\r\n                    <div class="country">From</div>\r\n                    <rtt-station-typeahead\r\n                        [location]="bookingService.departureLocation"\r\n                        (locationChange)="bookingService.departureLocationChange($event)">                        \r\n                    </rtt-station-typeahead>\r\n                </div>\r\n            \r\n                <button (click)="bookingService.swapLocations()" type="button" class="btn swap" aria-label="swap" tabindex="3">\r\n                    <span class="glyphicon glyphicon-sort" aria-hidden="true"></span>\r\n                    Swap\r\n                </button>\r\n\r\n                <div class="arr-journey">\r\n                    <div class="country">To</div>\r\n                    <rtt-station-typeahead \r\n                        [location]="bookingService.arrivalLocation"\r\n                        (locationChange)="bookingService.arrivalLocationChange($event)">                        \r\n                    </rtt-station-typeahead>\r\n                </div>\r\n\r\n                <div class="clearfix"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n    <div class="row">\r\n        <div class="col-xs-12  col-lg-6 nopadding">\r\n            <br />\r\n            <h2>\r\n                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n                Outward date\r\n            </h2>\r\n\r\n            <rtt-date-time (dateTimeChange)="bookingService.outwardDateTimeChange($event)"> </rtt-date-time>\r\n        </div>\r\n\r\n        <div  [ngClass]="{\'soon\': bookingService.searchType === \'oneWay\'}" class="col-xs-12  col-lg-6 nopadding-right">\r\n            <br />\r\n            <h2>\r\n                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n                Return date\r\n            </h2>\r\n\r\n            <rtt-date-time (dateTimeChange)="bookingService.returnDateTimeChange($event)"></rtt-date-time>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div [ngbCollapse]="!isExpanded">           \r\n            <div class="col-xs-12  col-lg-4 nopadding">\r\n                <br />\r\n                <h2><i class="fa fa-random" aria-hidden="true"></i> Maximum changes</h2>\r\n                <div class="card col-lg-12 ">\r\n                    <div class="input-group transfer">\r\n                        <input type="text" name="maxNumberOfChanges" [(ngModel)]="bookingService.searchParams.maxNumberOfChanges" />\r\n                        <div class="input-group-btn">\r\n                            <button type="button" class="datepicker" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n                                <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span>\r\n                            </button>\r\n                            <ul class="dropdown-menu dropdown-menu-right">\r\n                                <li (click)="bookingService.searchParams.maxNumberOfChanges = 0;">Direct train</li>\r\n                                <li *ngFor="let i of [1,2,3,4,5]" (click)="bookingService.searchParams.maxNumberOfChanges = i;">{{i}} changes</li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-xs-12  col-lg-4 nopadding-right">\r\n                <br />\r\n                <h2><i class="fa fa-list-ol" aria-hidden="true"></i> How many routes?</h2>\r\n                <div class="card col-lg-12 ">\r\n                    <div class="input-group transfer">\r\n                        <input type="text" name="resultsCount" aria-label="duration of transfer" \r\n                        [(ngModel)]="bookingService.searchParams.resultsCount">\r\n                        <div class="input-group-btn">\r\n                            <button type="button" class="datepicker" data-toggle="dropdown" \r\n                            aria-haspopup="true" aria-expanded="false">\r\n                                <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span>\r\n                            </button>\r\n                            <ul class="dropdown-menu dropdown-menu-right">\r\n                                <li *ngFor="let i of resultsCountList" (click)="bookingService.searchParams.resultsCount = i;">\r\n                                    <a>{{i}} result</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-xs-12  col-lg-4 nopadding-right">\r\n                <br />\r\n                <h2><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> \r\n                How long you need to change trains?</h2>\r\n                <div class="card col-lg-12 ">\r\n                    <div class="input-group transfer">\r\n                        <input type="text" name="minTransferTime" aria-label="duration of transfer" \r\n                        [(ngModel)]="bookingService.searchParams.minTransferTime" />\r\n\r\n                        <div class="input-group-btn">\r\n                            <button type="button" class="datepicker" data-toggle="dropdown" \r\n                                aria-haspopup="true" aria-expanded="false">\r\n                                <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span>\r\n                            </button>\r\n                                            \r\n                            <ul class="dropdown-menu dropdown-menu-right">\r\n                                <li *ngFor="let i of minTransferTimeList" (click)="bookingService.minTransferTime.resultsCount = i;">\r\n                                    <a>{{i}} result</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row" *ngIf="bookingService.searchParams.referenceLocalDateTime">\r\n            <div class="col-xs-12 col-sm-6">\r\n                <button type="button" (click)="isExpanded = !isExpanded" aria-expanded="false" aria-controls="advanceSearch">\r\n                    <i class="fa fa-plus" aria-hidden="true"></i> More search options\r\n                </button>\r\n            </div>\r\n            <div class="col-xs-12 col-sm-6">\r\n                <button class="search" type="submit" \r\n                    (click)="bookingService.showRoutes = true" \r\n                    [ngClass]="{\'disable\' : bookingService.showSpinner}">\r\n                    Search route\r\n                </button>\r\n            </div>\r\n            <div class="col-xs-12"></div>\r\n        </div>\r\n    </div>\r\n</form>'},81:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function BookingSelectComponent(e){this.bookingService=e}return BookingSelectComponent=r([o.Component({template:n(82)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectComponent);var e}();t.BookingSelectComponent=s},82:function(e,t){e.exports='<div class="row card selected-tickets">\r\n\r\n    <div class="col-xs-12 col-sm-12 col-md-6 selected-ticket">\r\n        <div class="center">\r\n            <span>Outward journey:</span>\r\n            <div class="info-ticket">\r\n                <div class="block">\r\n                    <div class="from">{{bookingService.departureLocation.displayName}}</div>\r\n                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                    <div class="to">{{bookingService.arrivalLocation.displayName}}</div>\r\n                </div>\r\n\r\n                <div class="block infos">\r\n                    <span *ngIf="!bookingService.outwardJourney">\r\n                        earliest dep at: {{bookingService.searchParams.referenceLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                    </span>\r\n                    <span *ngIf="bookingService.outwardJourney">\r\n                        dep at: {{bookingService.outwardJourney.departureLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="bookingService.searchType === \'roundtrip\'" class="col-xs-12 col-sm-12 col-md-6 selected-ticket">\r\n        <span>Return journey:</span>\r\n        <div class="info-ticket">\r\n            <div class="block">\r\n                <div class="from">{{bookingService.arrivalLocation.displayName}}</div> \r\n                <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                <div class="to">{{bookingService.departureLocation.displayName}}</div>\r\n            </div>\r\n\r\n            <div class="block infos">\r\n                <span *ngIf="!bookingService.returnJourney">\r\n                    earliest dep at: {{bookingService.returnSearchParams.referenceLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                </span>\r\n                <span *ngIf="bookingService.returnJourney">\r\n                    dep at: {{bookingService.returnJourney.departureLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="col-xs-12 col-sm-3 pull-right">\r\n        <button href="" class="modify-journey" (click)="bookingService.modifyJourney()">Modify journey</button>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>'},83:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function BookingSelectJourneyComponent(e){this.bookingService=e}return BookingSelectJourneyComponent.prototype.ngOnInit=function(){this.bookingService.beginSearch()},BookingSelectJourneyComponent=r([o.Component({template:n(84)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectJourneyComponent);var e}();t.BookingSelectJourneyComponent=s},84:function(e,t){e.exports='<div *ngIf="bookingService.showRoutes">\r\n    <div class="row">\r\n        <hr />\r\n\r\n        <h2 align="center">\r\n            <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n            <span *ngIf="bookingService.showSetOutwardJourneyButton()">\r\n                Outward journey on {{bookingService.searchParams.referenceLocalDateTime | date:\'dd.MM.yyyy HH:mm\':\'+00\'}}\r\n            </span>\r\n            <span *ngIf="bookingService.showSetReturnJourneyButton()">\r\n                Return journey on {{bookingService.returnSearchParams.referenceLocalDateTime | date:\'dd.MM.yyyy HH:mm\':\'+00\'}}\r\n            </span>\r\n        </h2>\r\n    </div>\r\n\r\n    <div class="row head">\r\n        <div class="col-sm-5">\r\n            <div class="col-sm-12 nopadding">\r\n                <div class="col-xs-12 col-sm-9">\r\n                    <div class="hidden-xs">Station </div>\r\n                    <div class="visible-xs filters"><i class="fa fa-sort" aria-hidden="true"></i> Sorting by </div>\r\n                </div>\r\n                <div class="col-xs-4  col-sm-3">\r\n                    <div class="filter-time active">Time <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-8  col-sm-4">\r\n            <div class="col-xs-6 col-sm-4 ">\r\n                <div class="duration">Duration <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-4 ">\r\n                <div class="changes">Changes <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n            </div>\r\n            <div class="col-sm-4 hidden-xs">\r\n                <div class="train-services">Services</div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-3 hidden-xs">\r\n            <div class="">\tFlexpreis</div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="load-routes" (click)="bookingService.loadEarlierJourneys()">Load earlier routes</div>\r\n    </div>\r\n\r\n    <rtt-journey-detail *ngFor="let journey of bookingService.journeyList" [journey]="journey"></rtt-journey-detail>\r\n\r\n    <div class="preloader2" *ngIf="bookingService.showSpinner">\r\n        <div class="roata"></div> <div class="roata"></div> <div class="osie"><div class="brat"></div></div>\r\n        <div class="search-text">Searching<span>.</span><span>.</span><span>.</span></div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="load-routes" (click)="bookingService.loadLaterJourneys()">Load later routes</div>\r\n    </div>\r\n</div>'},85:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function BookingSelectOfferComponent(e){this.bookingService=e}return BookingSelectOfferComponent=r([o.Component({template:n(86)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectOfferComponent);var e}();t.BookingSelectOfferComponent=s},86:function(e,t){e.exports='<div>\r\n    <ul>\r\n        <li *ngFor="let segment of bookingService.outwardJourney.facilityes">\r\n            {{segment.specificFacilityTypeId}} - {{segment.reservationCharacteristic}} ({{segment.originLocationName}} -> {{segment.destinationLocationName}})\r\n        </li>\r\n    </ul>\r\n</div>\r\n<!--<div>\r\n    <ul>\r\n        <li *ngFor="let segment of bookingService.returnJourney.pricingCategorySegments">\r\n            {{segment.pricingCategory}} ({{segment.originLocationName}} -> {{segment.destinationLocationName}})\r\n        </li>\r\n    </ul>\r\n</div>-->\r\n\r\n<pre style="display:inline-table">{{bookingService.outwardJourney | json}} </pre>\r\n<pre style="display:inline-table">{{bookingService.returnJourney | json}} </pre>';
},87:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function BookingStepsComponent(e){this.bookingService=e}return BookingStepsComponent=r([o.Component({selector:"rtt-booking-steps",template:n(88)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingStepsComponent);var e}();t.BookingStepsComponent=s},88:function(e,t){e.exports='<div class="query">\r\n    <div class="row col-xs-12 steps">\r\n        <div *ngFor="let step of bookingService.bookingSteps" class="col-xs-2 step {{bookingService.getStepStatus(step)}}">\r\n            <a href="#">                    \r\n                <div class="ic"><i class="fa {{step.className}}" aria-hidden="true"></i></div>\r\n                <div class="txt">{{step.displayName}}</div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="clearfix"></div>        \r\n</div>'},89:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(74),s=function(){function JourneyDetailsComponent(e){this.bookingService=e}return r([o.Input(),i("design:type",Object)],JourneyDetailsComponent.prototype,"journey",void 0),JourneyDetailsComponent=r([o.Component({selector:"rtt-journey-detail",template:n(90)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],JourneyDetailsComponent);var e}();t.JourneyDetailsComponent=s},90:function(e,t){e.exports='<div class="row card fadeIn">\r\n    <div class="flex">\r\n        <div class="col-sm-5">\r\n            <div class="col-sm-12 nopadding bb1 flex">\r\n                <div class="col-sm-9 departure">\r\n                    <span class="visible-xs"><i class="fa fa-map-marker" aria-hidden="true"></i> From</span>\r\n                    <div class="">{{journey.departureStation}}</div>\r\n                </div>\r\n                <div class="col-sm-3 departure-time">\r\n                    <div class="">\r\n                        <div class="date"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> \r\n                        {{journey.departureLocalDateTime | date : \'dd.MM.yy\'}}</div>\r\n                        <i class="fa fa-clock-o" aria-hidden="true"></i> \r\n                        {{journey.departureLocalDateTime | date : \'HH:mm\' : \'+00\'}}\r\n\r\n                        <span class="visible-xs-inline depart"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> departure</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-12 nopadding flex">\r\n\r\n                <div class="col-sm-9 arrive">\r\n                    <span class="visible-xs"><i class="fa fa-map-marker" aria-hidden="true"></i> To</span>\r\n                    <div class="">{{journey.arrivalStation}}</div>\r\n                </div>\r\n                <div class="col-sm-3 arrive-time">\r\n                    <div class="">\r\n                        <div class="date"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> \r\n                        {{journey.arrivalLocalDateTime | date : \'dd.MM.yy\'}}</div>\r\n                        <i class="fa fa-clock-o" aria-hidden="true"></i> {{journey.arrivalLocalDateTime | date : \'HH:mm\' : \'+00\'}}\r\n\r\n                        <span class="visible-xs-inline arr"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> arrive</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-4 flex-center">\r\n            <div class="col-xs-6  col-sm-4">\r\n                <div class="travel-time">\r\n                    <span class="visible-xs-inline">\r\n                        <i class="fa fa-hourglass-half" aria-hidden="true"></i> Duration  -\r\n                    </span> {{journey.durationInMinutes | minutesToDateTime}} <sup>hr</sup>\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-4">\r\n                <div class="number-of-changes">\r\n                    <span class="visible-xs-inline">\r\n                        <i class="fa fa-random" aria-hidden="true"></i> Changes -\r\n                    </span>{{journey.numberOfChanges}}\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="train-services">\r\n                    <span class="hidden-xs">R, ICx</span>  <span class="visible-xs">\r\n                        Services: <i class="fa fa-wheelchair" aria-hidden="true"></i>\r\n                        <i class="fa fa-bed" aria-hidden="true"></i>\r\n                        <i class="fa fa-cutlery" aria-hidden="true"></i>\r\n                    </span>\r\n                </div>\r\n                <div class="reservation"><span class="visible-xs-inline">Need</span> \r\n                R<span class="visible-xs-inline">eservation</span></div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-3 flex-colum">\r\n            <div class="ticket">Fares not available</div>\r\n            <button class="return-routes"\r\n                    *ngIf="bookingService.showSetOutwardJourneyButton()"\r\n                    (click)="bookingService.setOutwardJourney(journey)"\r\n                    [ngSwitch]="bookingService.searchType">\r\n                <i class="fa fa-undo" aria-hidden="true"></i>\r\n                <span *ngSwitchCase="\'oneWay\'">To offer selection</span>\r\n                <span *ngSwitchCase= "\'roundtrip\'">To return journey</span>\r\n            </button>\r\n            <button class="return-routes"\r\n                    *ngIf="bookingService.showSetReturnJourneyButton()"\r\n                    (click)="bookingService.setReturnJourney(journey)">\r\n                <i class="fa fa-undo" aria-hidden="true"></i>\r\n                <span>To offer selection</span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="col-xs-12">\r\n\r\n        <div class="collapse" id="route-{{journey.journeyId}}">\r\n            <div class="well">\r\n                <template ngFor let-segment [ngForOf]= "journey.segments">\r\n                    <div [ngSwitch]="segment.segmentType">\r\n                        <rtt-train-segment *ngSwitchCase="0" [segment]="segment"></rtt-train-segment>                \r\n                        <rtt-wait-segment *ngSwitchCase="1" [segment]="segment"></rtt-wait-segment>\r\n                        <rtt-walk-segment *ngSwitchCase="2" [segment]="segment"></rtt-walk-segment>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n\r\n        <button class="route-details collapsed" type="button" \r\n            data-toggle="collapse" [attr.data-target]="\'#route-\' + journey.journeyId" \r\n            aria-expanded="false" aria-controls="Route">\r\n            Result in ({{journey.elapsedMilliseconds | number:0}}) ms - Route details <i class="fa fa-chevron-down collapsed" aria-hidden="true"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n'},91:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function TrainSegmentComponent(){}return TrainSegmentComponent.prototype.getReferenceLocalDateTime=function(e){return new Date(e).getTime()},r([o.Input(),i("design:type",Object)],TrainSegmentComponent.prototype,"segment",void 0),TrainSegmentComponent=r([o.Component({selector:"rtt-train-segment",template:n(92)}),i("design:paramtypes",[])],TrainSegmentComponent)}();t.TrainSegmentComponent=a},92:function(e,t){e.exports='<div class="section">\r\n    <div class="route"></div>\r\n    <div class="info">\r\n        <div class="from">\r\n            <div class="col-xs-12">\r\n                <div class="col-xs-12 col-sm-9 station">\r\n                    {{segment.departure.stationName}}<div class="col-xs-12 departure">\r\n                        <span class="time-dep">\r\n                            <strong>\r\n                                <i class="fa fa-clock-o" aria-hidden="true"></i>\r\n                                {{segment.departure.localDateTime | date:\'HH:mm\' : \'+00\'}}\r\n                            </strong> <i class="fa fa-long-arrow-right" aria-hidden="true"></i> departure\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-3 train">\r\n                    <span class="pull-right-sm">\r\n                        <template ngFor let-train [ngForOf]="segment.trains">\r\n                            <a [routerLink]="[\'/train-info\', train.trainIndex, getReferenceLocalDateTime(train.trainReferenceLocalDateTime)]" target="_blank">\r\n                                <span class="transport train"> {{train.serviceNumber}}</span>\r\n                            </a>                        \r\n                            <span ng-repeat-end class="services">\r\n                                <i class="fa fa-wheelchair" aria-hidden="true"></i>\r\n                                <i class="fa fa-bed" aria-hidden="true"></i>\r\n                                <i class="fa fa-cutlery" aria-hidden="true"></i>\r\n                            </span>\r\n                        </template>\r\n                    </span>\r\n                </div>\r\n                <div class="col-xs-12 info-route">\r\n                    <ul>\r\n                        <li *ngFor="let facility of segment.facilityes">\r\n                            {{facility.specificFacilityTypeId}} ({{facility.originLocationName}} -> {{facility.destinationLocationName}})\r\n                        </li>\r\n                    </ul>                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="stops">\r\n            <div class="clearfix"></div>\r\n            <div class="collapse" id="segment-{{segment.segmentId}}" aria-expanded="false" style="height: 0px;">\r\n                <div class="well">\r\n                    <div class="row">\r\n                        <div class="col-xs-12 details-route-section">\r\n                            <div *ngFor="let stop of segment.stops" class="city">\r\n                                <span class="station">\r\n                                    {{stop.stationName}}\r\n                                    <span class="time"> \r\n                                        <strong>{{stop.departureLocalTime | minutesToLocalTime}}</strong> - departure\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class="route-details collapsed" type="button" data-toggle="collapse" [attr.data-target]="\'#segment-\' + segment.segmentId" aria-expanded="false" aria-controls="Route">\r\n                {{segment.stops.length}} stops <span class="stops-details">stops details</span>\r\n            </button>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n        <div class="to">\r\n            <div class="col-xs-12 station">\r\n                {{segment.arrival.stationName}}\r\n                <div class="col-xs-12 arrive">\r\n                    <span class="time-arr">\r\n                        <strong>\r\n                            <i class="fa fa-clock-o" aria-hidden="true"></i>\r\n                            {{segment.arrival.localDateTime | date:\'HH:mm\': \'+00\'}}\r\n                        </strong> <i class="fa fa-long-arrow-right" aria-hidden="true"></i> arrive\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n</div>'},93:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function WaitSegmentComponent(){}return r([o.Input(),i("design:type",Object)],WaitSegmentComponent.prototype,"segment",void 0),WaitSegmentComponent=r([o.Component({selector:"rtt-wait-segment",template:n(94)}),i("design:paramtypes",[])],WaitSegmentComponent)}();t.WaitSegmentComponent=a},94:function(e,t){e.exports='<div class="section transfer">\r\n    <div class="route"></div>\r\n    <div class="info">\r\n        <div class="col-xs-12 details-route-section">\r\n            <div class="city">\r\n                <span class="station">\r\n                    Transfer time {{segment.durationInMinutes | minutesToDateTime}}\r\n                </span>\r\n            </div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n</div>'},95:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function WalkSegmentComponent(){}return r([o.Input(),i("design:type",Object)],WalkSegmentComponent.prototype,"segment",void 0),WalkSegmentComponent=r([o.Component({selector:"rtt-walk-segment",template:n(96)}),i("design:paramtypes",[])],WalkSegmentComponent)}();t.WalkSegmentComponent=a},96:function(e,t){e.exports="<p>walk segment</p>"},97:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(70),s=n(22),c=n(26),l=n(98),d=n(394),p=n(398),u=n(400),f=n(402),m=n(403),v=function(){function SharedModule(){}return SharedModule=r([o.NgModule({imports:[a.FormsModule,s.CommonModule,l.NgbModule,c.RouterModule],declarations:[d.DateTimeComponent,p.StationTypeaheadComponent,u.OperatingCalendarComponent,f.MinutesToDateTimePipe,m.MinutesToLocalTimePipe],exports:[d.DateTimeComponent,p.StationTypeaheadComponent,u.OperatingCalendarComponent,f.MinutesToDateTimePipe,m.MinutesToLocalTimePipe]}),i("design:paramtypes",[])],SharedModule)}();t.SharedModule=v},394:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(98),s=n(395),c=function(){function DateTimeComponent(){if(this.dateTimeChange=new o.EventEmitter,this.lastHour=-1,!this.dateTime){var e=new Date;this.dateTime=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0)}this.date={year:this.dateTime.getFullYear(),month:this.dateTime.getMonth(),day:this.dateTime.getDate()},this.time={hour:this.dateTime.getHours(),minute:this.dateTime.getMinutes(),second:this.dateTime.getSeconds()},this.lastHour=this.time.hour}return DateTimeComponent.prototype.change=function(){if(null!=this.date&&null!=this.time){this.lastHour=this.time.hour;var e=new Date(this.date.year,this.date.month,this.date.day,this.time.hour,this.time.minute,this.time.second);this.dateTimeChange.emit(e)}},r([o.Input(),i("design:type",Object)],DateTimeComponent.prototype,"dateTime",void 0),r([o.Output(),i("design:type",Object)],DateTimeComponent.prototype,"dateTimeChange",void 0),DateTimeComponent=r([o.Component({selector:"rtt-date-time",template:n(396),providers:[{provide:a.NgbDateParserFormatter,useClass:s.RODateParserFormatter}]}),i("design:paramtypes",[])],DateTimeComponent)}();t.DateTimeComponent=c},395:function(e,t,n){"use strict";function toInteger(e){return parseInt(""+e,10)}function toString(e){return void 0!==e&&null!==e?""+e:""}function getValueInRange(e,t,n){return void 0===n&&(n=0),Math.max(Math.min(e,t),n)}function isString(e){return"string"==typeof e}function isNumber(e){return!isNaN(toInteger(e))}function isDefined(e){return void 0!==e&&null!==e}function padNumber(e){return isNumber(e)?("0"+e).slice(-2):""}function regExpEscape(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(98);t.toInteger=toInteger,t.toString=toString,t.getValueInRange=getValueInRange,t.isString=isString,t.isNumber=isNumber,t.isDefined=isDefined,t.padNumber=padNumber,t.regExpEscape=regExpEscape;var o=function(e){function RODateParserFormatter(){e.apply(this,arguments)}return r(RODateParserFormatter,e),RODateParserFormatter.prototype.parse=function(e){if(e){var t=e.trim().split(RODateParserFormatter.separator).reverse();if(1===t.length&&isNumber(t[0]))return{year:toInteger(t[0]),month:null,day:null};if(2===t.length&&isNumber(t[0])&&isNumber(t[1]))return{year:toInteger(t[0]),month:toInteger(t[1]),day:null};if(3===t.length&&isNumber(t[0])&&isNumber(t[1])&&isNumber(t[2]))return{year:toInteger(t[0]),month:toInteger(t[1]),day:toInteger(t[2])}}return null},RODateParserFormatter.prototype.format=function(e){return e?""+(isNumber(e.day)?padNumber(e.day):"")+RODateParserFormatter.separator+(isNumber(e.month)?padNumber(e.month):"")+RODateParserFormatter.separator+e.year:""},RODateParserFormatter.separator=".",RODateParserFormatter}(i.NgbDateParserFormatter);t.RODateParserFormatter=o},396:function(e,t,n){e.exports='<div class="card">\r\n    <div class="col-xs-12 col-sm-8">\r\n        <div class="input-group top10">\r\n            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" \r\n                [ngModel]="date" \r\n                (ngModelChange)="change()"\r\n                ngbDatepicker #d="ngbDatepicker">  \r\n            <div class="input-group-addon" (click)="d.toggle()" >\r\n                <img src="'+n(397)+'" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>\r\n            </div>\r\n        </div>        \r\n    </div>\r\n\r\n    <div class="col-xs-12 col-sm-4 date-time">\r\n        <div class="input-group">\r\n            <ngb-timepicker type="text" class="time" title="Time"\r\n                [(ngModel)] ="time" \r\n                (ngModelChange)="change()">\r\n            </ngb-timepicker>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="clearfix"></div>\r\n</div>'},397:function(e,t,n){e.exports=n.p+"assets/calendar-icon.0b5d4224acf7f13c4fd831481c8aed76.svg"},398:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(62),s=n(99);n(213),n(225),n(229),n(342);var c=function(){function StationTypeaheadComponent(e){var t=this;this.apiService=e,this.locationChange=new o.EventEmitter,this.formatter=function(e){return e.displayName},this.search=function(e){return e.debounceTime(300).distinctUntilChanged()["do"](function(e){t._searching=e.length>0}).switchMap(function(e){return""===e?s.Observable.of([]):t.apiService.getLocations(e)})["do"](function(){t._searching=!1})}}return StationTypeaheadComponent.prototype.selectItem=function(e){this.locationChange.emit(e.item)},r([o.Input(),i("design:type",Object)],StationTypeaheadComponent.prototype,"location",void 0),r([o.Output(),i("design:type",Object)],StationTypeaheadComponent.prototype,"locationChange",void 0),StationTypeaheadComponent=r([o.Component({selector:"rtt-station-typeahead",template:n(399)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ApiService&&a.ApiService)&&e||Object])],StationTypeaheadComponent);var e}();t.StationTypeaheadComponent=c},399:function(e,t){e.exports='<template #rt let-r="result" let-t="term">\r\n  {{ r.displayName }} ({{ r.countryName }})\r\n</template>\r\n\r\n<input type="text" class="form-control" placeholder="search for stations/cities"\r\n    (selectItem) = "selectItem($event)"\r\n    [inputFormatter] = "formatter"\r\n    [editable]="\'false\'"\r\n    [ngModel]="location" \r\n    [ngbTypeahead]="search" \r\n    [resultTemplate]="rt"/>'},400:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=864e5,s=function(){function OperatingCalendarComponent(){this.monthNames=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","nov","dec"],this.dayNames=["L","Ma","Mi","J","V","S","D"],this.months=[]}return OperatingCalendarComponent.prototype.ngOnInit=function(){if(this.operatingSchedules){for(var e=new Date,t=new Date,n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth()),i=n,o=[],s=[];i<=r;){var c=this.createBlankOperatingMonth(i),l=i.getFullYear();void 0===s[l]&&(s[l]=[]);var d=i.getMonth();s[l][d]=c,this.months.push(c),i=this.getNextMonth(i)}this.operatingSchedules.forEach(function(e,t){for(var n=0;n<e.operatingDays.length;n++)if("1"===e.operatingDays.charAt(n)){var r=new Date(e.firstDayOfOperation.getTime()+a*n),i=r.getFullYear(),o=r.getMonth(),c=r.getDate(),l=s[i][o],d=l.weekDaysByIndex[c];d.isOperating=!0,d.distinctIndex=t,d.date=r,d.serviceIndex=e.serviceIndex}}),s.forEach(function(e){e.forEach(function(e){e.operatingTypeClass="none",e.weekDaysByIndex.some(function(e){return e.isOperating})&&(e.operatingTypeClass="partial"),e.weekDaysByIndex.every(function(e){return e.isOperating})&&(e.operatingTypeClass="full")})});var p=s[this.selectedLocalDateTime.getFullYear()][this.selectedLocalDateTime.getMonth()];p.weekDaysByIndex[this.selectedLocalDateTime.getDate()].isSelected=!0,this.months=o,this.selectedMonth=p}},OperatingCalendarComponent.prototype.getNextMonth=function(e){var t;return t=11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1)},OperatingCalendarComponent.prototype.createBlankOperatingMonth=function(e){var t=[],n=[],r={date:e,name:this.monthNames[e.getMonth()],weekDays:t,weekDaysByIndex:n},i=new Date(e.getFullYear(),e.getMonth(),1),o=new Date(e.getFullYear(),e.getMonth()+1,0),a=(i.getDay()+6)%7,s=o.getDate(),c=Math.ceil((a+s)/7);this.dayNames.forEach(function(e,n){t[n]={dayName:e,dayNumbers:[]};for(var r=0;r<c;r++)t[n].dayNumbers.push({})});for(var l=0;l<s;l++){var d=a+l,p=d%7,u=Math.floor(d/7),f={displayText:l+1,isOperating:!1};t[p].dayNumbers[u]=f,n[l+1]=f}return r},r([o.Input(),i("design:type",Object)],OperatingCalendarComponent.prototype,"operatingSchedules",void 0),r([o.Input(),i("design:type",Object)],OperatingCalendarComponent.prototype,"selectedLocalDateTime",void 0),OperatingCalendarComponent=r([o.Component({selector:"rtt-operating-calendar",template:n(401)}),i("design:paramtypes",[])],OperatingCalendarComponent)}();t.OperatingCalendarComponent=s},401:function(e,t){e.exports='<div id="calendar">\r\n    <div class="calendar">\r\n        <div class="mounths">\r\n            <div *ngFor="let trafficMonth of months" class="mounth {{trafficMonth.operatingTypeClass}}" \r\n                title="{{trafficMonth.date | date:\'dd.MM.yyyy\'}}">\r\n                <label>\r\n                    <input type="button" [ngModel]="selectedMonth" (click)="selectedMonth = trafficMonth" />\r\n                    <span>{{trafficMonth.date | date:\'MMM\'}}</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class="dec">\r\n            <div class="day" *ngFor="let trafficWeek of selectedMonth.weekDays">\r\n                {{trafficWeek.dayName}}\r\n                <div *ngFor="let trafficDay of trafficWeek.dayNumbers" \r\n                     class="date"\r\n                     [ngClass]="{\'active\': trafficDay.isOperating, \'selected\': trafficDay.isSelected}"\r\n                     title="{{trafficDay.date | date:\'dd.MM.yyyy\'}}">\r\n                    <a *ngIf="trafficDay.isOperating" [attr.data-distinct-value]="trafficDay.distinctIndex"\r\n                       [routerLink]="[\'/train-info\', trafficDay.serviceIndex, trafficDay.date.getTime() ]">\r\n                       {{trafficDay.displayText}}\r\n                    </a>\r\n                    <span *ngIf="!trafficDay.isOperating">{{trafficDay.displayText}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="clearfix"></div>        \r\n    </div>\r\n</div>\r\n'},402:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function MinutesToDateTimePipe(){}return MinutesToDateTimePipe.prototype.transform=function(e){var t=Math.floor(e/60),n="";t<10&&(n="0"+t+":");var r=e%60;return r<10&&(n+="0"+r),n},MinutesToDateTimePipe=r([o.Pipe({name:"minutesToDateTime"}),i("design:paramtypes",[])],MinutesToDateTimePipe)}();t.MinutesToDateTimePipe=a},403:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=function(){function MinutesToLocalTimePipe(){}return MinutesToLocalTimePipe.prototype.transform=function(e){var t=Math.floor(e/60),n="";t<10&&(n="0"+t+":");var r=e%60;return r<10&&(n+="0"+r),n},MinutesToLocalTimePipe=r([o.Pipe({name:"minutesToLocalTime"}),i("design:paramtypes",[])],MinutesToLocalTimePipe)}();t.MinutesToLocalTimePipe=a},404:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(70),s=n(22),c=n(405),l=n(407),d=n(409),p=n(97),u=function(){function TimetableModule(){}return TimetableModule=r([o.NgModule({imports:[a.FormsModule,s.CommonModule,d.timetableRouting,p.SharedModule],declarations:[c.TimetableComponent,l.TrainInfoComponent],providers:[]}),i("design:paramtypes",[])],TimetableModule)}();t.TimetableModule=u},405:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(26),s=n(62),c=n(63),l=36e5,d=function(){function TimetableComponent(e,t,n){this.apiService=e,this.activatedRoute=t,this.router=n}return TimetableComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.forEach(function(t){if(t.referenceLocalDateTime)e.locationIndex=parseInt(t.locationIndex),e.stationEventType=t.stationEventType,e.referenceLocalDateTime=new Date(parseInt(t.referenceLocalDateTime)),e.apiService.post(c.ApiUrl.stationInfoApiUrl,{stationIndex:e.locationIndex,referenceLocalDateTime:e.referenceLocalDateTime,stationEventType:e.stationEventType}).forEach(function(t){e.station={index:t.locationIndex,displayName:t.locationName},e.stationEvents=t.events});else{var n=new Date;e.referenceLocalDateTime=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()-n.getTimezoneOffset(),0),e.stationEventType="departure",e.locationIndex=9029,e.station={displayName:"Bucuresti Nord Gara A",index:9029,isCity:!1,countryName:"Romania"}}})},TimetableComponent.prototype.setStationEventType=function(e){this.stationEventType=e},TimetableComponent.prototype.loadEvents=function(e){this.referenceLocalDateTime=new Date(this.referenceLocalDateTime.getTime()+e*l),this.search()},TimetableComponent.prototype.search=function(){
this.router.navigate(["/station-info",this.station.index,this.stationEventType,this.referenceLocalDateTime.getTime()])},TimetableComponent=r([o.Component({template:n(406)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ApiService&&s.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof a.ActivatedRoute&&a.ActivatedRoute)&&t||Object,"function"==typeof(d="undefined"!=typeof a.Router&&a.Router)&&d||Object])],TimetableComponent);var e,t,d}();t.TimetableComponent=d},406:function(e,t){e.exports='<div class="container-fluid inLeft">\r\n    <div class="container">\r\n        <div class="row">\r\n            <form (ngSubmit)="search()">\r\n                <div class="col-xs-12 nopadding">\r\n                    <div class="col-xs-12"><h2>Departure and arrival</h2></div>\r\n                    <div class="clearfix"></div>\r\n                    <div class="card destination">\r\n\r\n                        <div class="col-xs-12 ">\r\n                            <rtt-station-typeahead [(location)]="station"></rtt-station-typeahead>\r\n                        </div>\r\n\r\n                        <div class="clearfix"></div>\r\n\r\n                        \r\n\r\n                        <rtt-date-time [(dateTime)]="referenceLocalDateTime"></rtt-date-time>\r\n\r\n                        <div class="clearfix"></div>\r\n\r\n                         <div class="btn-group btn-group-justified direction" role="group" aria-label="...">\r\n                            <div class="btn-group" role="group">\r\n                                <button type="button" class="btn"\r\n                                        [ngClass]="{\'btn-success\': stationEventType == \'departure\'}"\r\n                                        (click)="setStationEventType(\'departure\')">\r\n                                    <span>Departure</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class="btn-group" role="group">\r\n                                <button type="button" class="btn"\r\n                                        [ngClass]="{\'btn-success\': stationEventType == \'arrival\'}"\r\n                                        (click)="setStationEventType(\'arrival\')">\r\n                                    <span>Arrival</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <button class="search" type="submit">Search</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <div class="list-station" *ngIf="stationEvents">\r\n            <div class="row station-list header">\r\n                <div class="col-sm-1">Time</div>\r\n                <div class="col-sm-2 col-md-1">Train</div>\r\n                <div class="col-sm-6 col-md-7">Direction / stops on the way</div>\r\n                <div class="col-sm-3">Station / Stop</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="load-more" (click)="loadEvents(-1)">Load earlier</div>\r\n            </div>\r\n\r\n            <div class="row station-list" *ngFor="let event of stationEvents">\r\n                <div class="col-xs-4 col-sm-1"><i class="fa fa-clock-o visible-xs-inline" aria-hidden="true"></i> \r\n                {{event.eventLocalTime | minutesToDateTime}}</div>\r\n                <div class="col-xs-8 col-sm-2 col-md-1 train">\r\n                    <a class="pull-right-xs" [routerLink]="[\'/train-info\', event.trainIndex, referenceLocalDateTime.getTime()]">\r\n                        <i class="fa fa-train" aria-hidden="true"></i> R {{event.serviceNumber}}\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-6 col-md-7 no-padding">\r\n                    <div class="col-xs-12">\r\n                        <a href="">\r\n                            <i class="fa fa-long-arrow-right visible-xs-inline" aria-hidden="true"></i>\r\n                            {{event.titleStation}}\r\n                        </a>\r\n                    </div>\r\n                    <div class="col-xs-12 station-route">\r\n                        {{event.stopsOnTheWay}}\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-3"><i class="fa fa-stop-circle-o visible-xs-inline" aria-hidden="true"></i> - </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="load-more" (click)="loadEvents(1)">Load later</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},407:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(3),a=n(26),s=n(62),c=n(63),l=function(){function TrainInfoComponent(e,t){this.apiService=e,this.activatedRoute=t,this.data=[],this.showOpDays=!1}return TrainInfoComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.forEach(function(t){e.referenceLocalDateTime=new Date(parseInt(t.referenceLocalDateTime)),e.apiService.post(c.ApiUrl.routeInfoApiUrl,{serviceIndex:parseInt(t.serviceIndex)}).forEach(function(t){e.data=t,e.operatingSchedules=t.operatingSchedules.map(function(e){return{serviceIndex:e.serviceIndex,firstDayOfOperation:new Date(e.firstDayOfOperation),operatingDays:e.operationSchedule}})})})},TrainInfoComponent=r([o.Component({template:n(408)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ApiService&&s.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof a.ActivatedRoute&&a.ActivatedRoute)&&t||Object])],TrainInfoComponent);var e,t}();t.TrainInfoComponent=l},408:function(e,t){e.exports='<div class="route-info-page inLeft">\r\n    <div class="antet">\r\n        <div class="logo-cfr">\r\n        </div>\r\n\r\n        <div class="contact">\r\n            <!--<span>\r\n                <i class="fa fa-map-marker" aria-hidden="true"></i> Adresa: B-dul Dinicu Golescu, nr. 38, sector 1, cod 010873 Bucuresti - ROMANIA\r\n            </span>-->\r\n            <span>\r\n                <i class="fa fa-fax" aria-hidden="true"></i> Fax: 021/319.03.39\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-envelope" aria-hidden="true"></i> E-mail: Calatori@cfrcalatori.ro\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-volume-control-phone" aria-hidden="true"></i> Telverde - 0800.88.44.44\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-globe" aria-hidden="true"></i> www.cfrcalatori.ro\r\n            </span>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <div class="container card">\r\n        <div class="col-xs-8 col-sm-10  route-info">\r\n            <h1>Route {{data.serviceBrand}} {{data.serviceNumber}}</h1>\r\n            <h2>{{data.serviceMode}}</h2>\r\n        </div>\r\n        <div class="col-xs-4 col-sm-2  route-info-date" (click)="showOpDays = !showOpDays">\r\n            <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>{{referenceLocalDateTime | date:\'dd.MM.yyyy\'}}\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n    <div class="container no-padding">\r\n        <button class="btn operatingDay collapsed" type="button" data-toggle="collapse" \r\n            [attr.data-target] = "\'#toggleOperatingDay\'" aria-expanded="false" aria-controls="collapseExample">\r\n            <span class="showtxt">Show</span><span class="hidetxt">Hide</span> operating days\r\n        </button>\r\n        <div class="collapse" id="toggleOperatingDay" [ngClass]="{in : showOpDays}">\r\n            <div class="well ">\r\n\r\n                <rtt-operating-calendar *ngIf="operatingSchedules"\r\n                                         [operatingSchedules]="operatingSchedules"\r\n                                         [selectedLocalDateTime]="referenceLocalDateTime">\r\n                </rtt-operating-calendar>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="container">\r\n        <div class="rand head">\r\n            <div class="no-padding-xs col-xs-8 col-sm-7 station">\r\n                <div class="no-padding-xs col-xs-12 col-sm-8"><i class="fa fa-map-marker" aria-hidden="true"></i> Station</div>\r\n                <div class="hidden-xs">\r\n                    <div class="col-xs-6 col-sm-2 arrival">Arrival</div>\r\n                    <div class="col-xs-6 col-sm-2 departure">Departure</div>\r\n                </div>\r\n            </div>\r\n            <div class="no-padding-xs col-xs-4 col-sm-5 comment"><i class="fa fa-info" aria-hidden="true"></i> Info</div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n\r\n        <div class="rand" *ngFor="let trainStop of data.trainStops">\r\n            <div class="no-padding-xs col-xs-8 col-sm-7 station">\r\n                <div class="no-padding-xs col-xs-12 col-sm-8"><strong>{{trainStop.stationName}}</strong></div>\r\n                <div class="no-padding-xs col-xs-12 visible-xs dep-arr">\r\n                    Arrival {{trainStop.arrivalLocalTime}}\r\n                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                    Departure {{trainStop.departureLocalTime}}\r\n                </div>\r\n                <div class="hidden-xs">\r\n                    <a class="col-xs-6 col-sm-2 arrival" [routerLink]="[\'/station-info\',\r\n                         trainStop.stationIndex,\r\n                         \'arrival\',\r\n                         referenceLocalDateTime.getTime()]">\r\n                        <span class="visible-xs-inline">Arrival</span>\r\n                        {{trainStop.arrivalLocalTime}}\r\n                    </a>\r\n                    <a class="col-xs-6 col-sm-2 departure" [routerLink]="[\'/station-info\',\r\n                         trainStop.stationIndex,\r\n                         \'departure\',\r\n                         referenceLocalDateTime.getTime()]">\r\n                        <span class="visible-xs-inline">\r\n                            <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Departure\r\n                        </span>\r\n                        {{trainStop.departureLocalTime}}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="no-padding-xs col-xs-4 col-sm-5 comment">Train continues as TGV 2852</div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n    </div>\r\n    <div class="clearfix"></div>\r\n    <div>\r\n        <ul>\r\n            <li *ngFor="let fs of data.facilitySegments">\r\n                {{fs.facilityType}} - {{fs.reservationCharacteristic}} ({{fs.originLocationName}} -> {{fs.destinationLocationName}})\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div>\r\n        <ul>\r\n            <li *ngFor="let fs of data.pricingCategorySegments">\r\n                {{fs.pricingCategory}} ({{fs.originLocationName}} -> {{fs.destinationLocationName}})\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="container print-button"><a href="javascript:window.print()"><i class="fa fa-print" aria-hidden="true"></i> Print route</a></div>\r\n</div>'},409:function(e,t,n){"use strict";var r=n(26),i=n(405),o=n(407),a=[{path:"timetable",component:i.TimetableComponent},{path:"station-info/:locationIndex/:stationEventType/:referenceLocalDateTime",component:i.TimetableComponent},{path:"train-info/:serviceIndex/:referenceLocalDateTime",component:o.TrainInfoComponent}];t.timetableRouting=r.RouterModule.forChild(a)}});
//# sourceMappingURL=app.6a789fab8e122ab91309.js.map