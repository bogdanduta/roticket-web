webpackJsonp([2],{89:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=n(60),s=n(22),c=n(26),l=n(90),d=n(386),p=n(389),f=n(391),u=n(393),m=n(394),v=function(){function SharedModule(){}return SharedModule=i([r.NgModule({imports:[o.FormsModule,s.CommonModule,l.NgbModule,c.RouterModule],declarations:[d.DateTimeComponent,p.StationTypeaheadComponent,f.OperatingCalendarComponent,u.MinutesToTimeSpanPipe,m.MinutesToLocalTimePipe],exports:[l.NgbModule,d.DateTimeComponent,p.StationTypeaheadComponent,f.OperatingCalendarComponent,u.MinutesToTimeSpanPipe,m.MinutesToLocalTimePipe]}),a("design:paramtypes",[])],SharedModule)}();t.SharedModule=v},386:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=function(){function DateTimeComponent(){this.dateTimeChange=new r.EventEmitter,this.lastHour=-1}return DateTimeComponent.prototype.updateUIBindings=function(){if(!this.dateTime){var e=new Date;this.dateTime=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0)}this.date={year:this.dateTime.getFullYear(),month:this.dateTime.getMonth(),day:this.dateTime.getDate()},this.time={hour:this.dateTime.getHours(),minute:this.dateTime.getMinutes(),second:this.dateTime.getSeconds()},this.lastHour=this.time.hour},DateTimeComponent.prototype.ngOnInit=function(){this.updateUIBindings()},DateTimeComponent.prototype.ngOnChanges=function(){this.updateUIBindings()},DateTimeComponent.prototype.change=function(){if(null!=this.date&&null!=this.time){this.lastHour=this.time.hour;var e=new Date(this.date.year,this.date.month,this.date.day,this.time.hour,this.time.minute,this.time.second);this.dateTimeChange.emit(e)}},i([r.Input(),a("design:type",Object)],DateTimeComponent.prototype,"dateTime",void 0),i([r.Output(),a("design:type",Object)],DateTimeComponent.prototype,"dateTimeChange",void 0),DateTimeComponent=i([r.Component({selector:"rtt-date-time",template:n(387)}),a("design:paramtypes",[])],DateTimeComponent)}();t.DateTimeComponent=o},387:function(e,t,n){e.exports='<div class="card">\r\n    <div class="col-xs-12 col-sm-8">\r\n        <div class="input-group top10">\r\n            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" \r\n                [ngModel]="date" \r\n                (ngModelChange)="change()"\r\n                ngbDatepicker #d="ngbDatepicker">  \r\n            <div class="input-group-addon" (click)="d.toggle()" >\r\n                <img src="'+n(388)+'" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>\r\n            </div>\r\n \r\n          </div>\r\n    </div>\r\n\r\n    <div class="col-xs-12 col-sm-4 date-time">\r\n        <div class="input-group">\r\n            <ngb-timepicker type="text" class="time" title="Time"\r\n                [(ngModel)] ="time" \r\n                (ngModelChange)="change()">\r\n            </ngb-timepicker>\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n\r\n    <div class="clearfix"></div>\r\n</div> \r\n'},388:function(e,t,n){e.exports=n.p+"assets/calendar-icon.0b5d4224acf7f13c4fd831481c8aed76.svg"},389:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=n(65),s=n(91);n(205),n(217),n(221),n(334);var c=function(){function StationTypeaheadComponent(e){var t=this;this.apiService=e,this.locationChange=new r.EventEmitter,this.formatter=function(e){return e.displayName},this.search=function(e){return e.debounceTime(300).distinctUntilChanged()["do"](function(e){t._searching=e.length>0}).switchMap(function(e){return""===e?s.Observable.of([]):t.apiService.getLocations(e)})["do"](function(){t._searching=!1})}}return StationTypeaheadComponent.prototype.selectItem=function(e){this.locationChange.emit(e.item)},i([r.Input(),a("design:type",Object)],StationTypeaheadComponent.prototype,"location",void 0),i([r.Output(),a("design:type",Object)],StationTypeaheadComponent.prototype,"locationChange",void 0),StationTypeaheadComponent=i([r.Component({selector:"rtt-station-typeahead",template:n(390)}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.ApiService&&o.ApiService)&&e||Object])],StationTypeaheadComponent);var e}();t.StationTypeaheadComponent=c},390:function(e,t){e.exports='<template #rt let-r="result" let-t="term">\r\n  {{ r.displayName }} ({{ r.countryName }})\r\n</template>\r\n\r\n<input type="text" class="form-control" placeholder="search for stations/cities"\r\n    (selectItem) = "selectItem($event)"\r\n    [inputFormatter] = "formatter"\r\n    [editable]="\'false\'"\r\n    [ngModel]="location" \r\n    [ngbTypeahead]="search" \r\n    [resultTemplate]="rt"/>'},391:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=864e5,s=function(){function OperatingCalendarComponent(){this.monthNames=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","nov","dec"],this.dayNames=["L","Ma","Mi","J","V","S","D"],this.months=[]}return OperatingCalendarComponent.prototype.ngOnInit=function(){if(this.operatingSchedules){for(var e=new Date,t=new Date,n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth()),a=n,r=[],s=[];a<=i;){var c=this.createBlankOperatingMonth(a),l=a.getFullYear();void 0===s[l]&&(s[l]=[]);var d=a.getMonth();s[l][d]=c,this.months.push(c),a=this.getNextMonth(a)}this.operatingSchedules.forEach(function(e,t){for(var n=0;n<e.operatingDays.length;n++)if("1"===e.operatingDays.charAt(n)){var i=new Date(e.firstDayOfOperation.getTime()+o*n),a=i.getFullYear(),r=i.getMonth(),c=i.getDate(),l=s[a][r],d=l.weekDaysByIndex[c];d.isOperating=!0,d.distinctIndex=t,d.date=i,d.serviceIndex=e.serviceIndex}}),s.forEach(function(e){e.forEach(function(e){e.operatingTypeClass="none",e.weekDaysByIndex.some(function(e){return e.isOperating})&&(e.operatingTypeClass="partial"),e.weekDaysByIndex.every(function(e){return e.isOperating})&&(e.operatingTypeClass="full")})});var p=s[this.selectedLocalDateTime.getFullYear()][this.selectedLocalDateTime.getMonth()];p.weekDaysByIndex[this.selectedLocalDateTime.getDate()].isSelected=!0,this.months=r,this.selectedMonth=p}},OperatingCalendarComponent.prototype.getNextMonth=function(e){var t;return t=11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1)},OperatingCalendarComponent.prototype.createBlankOperatingMonth=function(e){var t=[],n=[],i={date:e,name:this.monthNames[e.getMonth()],weekDays:t,weekDaysByIndex:n},a=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),o=(a.getDay()+6)%7,s=r.getDate(),c=Math.ceil((o+s)/7);this.dayNames.forEach(function(e,n){t[n]={dayName:e,dayNumbers:[]};for(var i=0;i<c;i++)t[n].dayNumbers.push({})});for(var l=0;l<s;l++){var d=o+l,p=d%7,f=Math.floor(d/7),u={displayText:l+1,isOperating:!1};t[p].dayNumbers[f]=u,n[l+1]=u}return i},i([r.Input(),a("design:type",Object)],OperatingCalendarComponent.prototype,"operatingSchedules",void 0),i([r.Input(),a("design:type",Object)],OperatingCalendarComponent.prototype,"selectedLocalDateTime",void 0),OperatingCalendarComponent=i([r.Component({selector:"rtt-operating-calendar",template:n(392)}),a("design:paramtypes",[])],OperatingCalendarComponent)}();t.OperatingCalendarComponent=s},392:function(e,t){e.exports='test\r\n<div id="calendar">\r\n    <div class="calendar">\r\n        <div class="mounths">\r\n            <div *ngFor="let trafficMonth of months" class="mounth {{trafficMonth.operatingTypeClass}}" \r\n                title="{{trafficMonth.date | date:\'dd.MM.yyyy\'}}">\r\n                <label>\r\n                    <input type="button" [ngModel]="selectedMonth" (click)="selectedMonth = trafficMonth" />\r\n                    <span>{{trafficMonth.date | date:\'MMM\'}}</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class="dec">\r\n            <div class="day" *ngFor="let trafficWeek of selectedMonth.weekDays">\r\n                {{trafficWeek.dayName}}\r\n                <div *ngFor="let trafficDay of trafficWeek.dayNumbers" \r\n                     class="date"\r\n                     [ngClass]="{\'active\': trafficDay.isOperating, \'selected\': trafficDay.isSelected}"\r\n                     title="{{trafficDay.date | date:\'dd.MM.yyyy\'}}">\r\n                    <a *ngIf="trafficDay.isOperating" [attr.data-distinct-value]="trafficDay.distinctIndex"\r\n                       [routerLink]="[\'/train-info\', trafficDay.serviceIndex, trafficDay.date.getTime() ]">\r\n                       {{trafficDay.displayText}}\r\n                    </a>\r\n                    <span *ngIf="!trafficDay.isOperating">{{trafficDay.displayText}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="clearfix"></div>        \r\n    </div>\r\n</div>\r\n'},393:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=function(){function MinutesToTimeSpanPipe(){}return MinutesToTimeSpanPipe.prototype.transform=function(e){if(void 0===e||null===e)return"";var t=Math.floor(e/60),n="";t<10&&(n+="0"),n+=t+":";var i=e%60;return i<10&&(n+="0"),n+=i},MinutesToTimeSpanPipe=i([r.Pipe({name:"minutesToTimeSpan"}),a("design:paramtypes",[])],MinutesToTimeSpanPipe)}();t.MinutesToTimeSpanPipe=o},394:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=function(){function MinutesToLocalTimePipe(){}return MinutesToLocalTimePipe.prototype.transform=function(e){var t=Math.floor(e/60),n="";t<10&&(n="0"+t+":");var i=e%60;return i<10&&(n+="0"+i),n},MinutesToLocalTimePipe=i([r.Pipe({name:"minutesToLocalTime"}),a("design:paramtypes",[])],MinutesToLocalTimePipe)}();t.MinutesToLocalTimePipe=o},395:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=n(60),s=n(22),c=n(396),l=n(398),d=n(400),p=n(402),f=n(89),u=function(){function TimetableModule(){}return TimetableModule=i([r.NgModule({imports:[o.FormsModule,s.CommonModule,p.timetableRouting,f.SharedModule],declarations:[c.TimetableComponent,l.StationInfoComponent,d.TrainInfoComponent],providers:[]}),a("design:paramtypes",[])],TimetableModule)}();t.TimetableModule=u},396:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=function(){function TimetableComponent(){}return TimetableComponent=i([r.Component({template:n(397)}),a("design:paramtypes",[])],TimetableComponent)}();t.TimetableComponent=o},397:function(e,t){e.exports="<router-outlet></router-outlet>\r\n"},398:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=n(26),s=n(65),c=n(66),l=36e5,d=function(){function StationInfoComponent(e,t,n){this.apiService=e,this.activatedRoute=t,this.router=n}return StationInfoComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.forEach(function(t){if(t.referenceLocalDateTime)e.locationIndex=parseInt(t.locationIndex),e.stationEventType=t.stationEventType,e.referenceLocalDateTime=new Date(parseInt(t.referenceLocalDateTime)),e.apiService.post(c.ApiUrl.stationInfoApiUrl,{stationIndex:e.locationIndex,referenceLocalDateTime:e.referenceLocalDateTime,stationEventType:e.stationEventType}).forEach(function(t){e.station={index:t.locationIndex,displayName:t.locationName},e.stationEvents=t.events});else{var n=new Date;e.referenceLocalDateTime=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()-n.getTimezoneOffset(),0),e.stationEventType="departure",e.locationIndex=9029,e.station={displayName:"Bucuresti Nord Gara A",index:9029,isCity:!1,countryName:"Romania"}}})},StationInfoComponent.prototype.setStationEventType=function(e){this.stationEventType=e},StationInfoComponent.prototype.loadEvents=function(e){this.referenceLocalDateTime=new Date(this.referenceLocalDateTime.getTime()+e*l),this.search()},StationInfoComponent.prototype.search=function(){this.router.navigate(["/timetable/station-info",this.station.index,this.stationEventType,this.referenceLocalDateTime.getTime()])},StationInfoComponent=i([r.Component({template:n(399)}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ApiService&&s.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof o.ActivatedRoute&&o.ActivatedRoute)&&t||Object,"function"==typeof(d="undefined"!=typeof o.Router&&o.Router)&&d||Object])],StationInfoComponent);var e,t,d}();t.StationInfoComponent=d},399:function(e,t){e.exports='<div class="container-fluid inLeft">\r\n    <div class="container">\r\n        <div class="row">\r\n            <form (ngSubmit)="search()">\r\n                <div class="col-xs-12 nopadding">\r\n                    <div class="col-xs-12"><h2>Departure and arrival</h2></div>\r\n                    <div class="clearfix"></div>\r\n                    <div class="card destination">\r\n\r\n                        <div class="col-xs-12 ">\r\n                            <rtt-station-typeahead [(location)]="station"></rtt-station-typeahead>\r\n                        </div>\r\n\r\n                        <div class="clearfix"></div>\r\n\r\n                        \r\n\r\n                        <rtt-date-time [(dateTime)]="referenceLocalDateTime"></rtt-date-time>\r\n\r\n                        <div class="clearfix"></div>\r\n\r\n                         <div class="btn-group btn-group-justified direction" role="group" aria-label="...">\r\n                            <div class="btn-group" role="group">\r\n                                <button type="button" class="btn"\r\n                                        [ngClass]="{\'btn-success\': stationEventType == \'departure\'}"\r\n                                        (click)="setStationEventType(\'departure\')">\r\n                                    <span>Departure</span>\r\n                                </button>\r\n                            </div>\r\n                            <div class="btn-group" role="group">\r\n                                <button type="button" class="btn"\r\n                                        [ngClass]="{\'btn-success\': stationEventType == \'arrival\'}"\r\n                                        (click)="setStationEventType(\'arrival\')">\r\n                                    <span>Arrival</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <button class="search" type="submit">Search</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <div class="list-station" *ngIf="stationEvents">\r\n            <div class="row station-list header">\r\n                <div class="col-sm-1">Time</div>\r\n                <div class="col-sm-2 col-md-1">Train</div>\r\n                <div class="col-sm-6 col-md-7">Direction / stops on the way</div>\r\n                <div class="col-sm-3">Station / Stop</div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="load-more" (click)="loadEvents(-1)">Load earlier</div>\r\n            </div>\r\n\r\n            <div class="row station-list" *ngFor="let event of stationEvents">\r\n                <div class="col-xs-4 col-sm-1"><i class="fa fa-clock-o visible-xs-inline" aria-hidden="true"></i> \r\n                {{event.eventLocalTime | minutesToTimeSpan}}</div>\r\n                <div class="col-xs-8 col-sm-2 col-md-1 train">\r\n                    <a class="pull-right-xs" [routerLink]="[\'/timetable/train-info\', event.trainIndex, referenceLocalDateTime.getTime()]">\r\n                        <i class="fa fa-train" aria-hidden="true"></i> R {{event.serviceNumber}}\r\n                    </a>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-6 col-md-7 no-padding">\r\n                    <div class="col-xs-12">\r\n                        <a href="">\r\n                            <i class="fa fa-long-arrow-right visible-xs-inline" aria-hidden="true"></i>\r\n                            {{event.titleStation}}\r\n                        </a>\r\n                    </div>\r\n                    <div class="col-xs-12 station-route">\r\n                        {{event.stopsOnTheWay}}\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-3"><i class="fa fa-stop-circle-o visible-xs-inline" aria-hidden="true"></i> - </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="load-more" (click)="loadEvents(1)">Load later</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},400:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=n(3),o=n(26),s=n(65),c=n(66),l=function(){function TrainInfoComponent(e,t){this.apiService=e,this.activatedRoute=t,this.showOpDays=!1}return TrainInfoComponent.prototype.ngOnInit=function(){var e=this;this.activatedRoute.params.forEach(function(t){e.referenceLocalDateTime=new Date(parseInt(t.referenceLocalDateTime)),e.apiService.post(c.ApiUrl.routeInfoApiUrl,{serviceIndex:parseInt(t.serviceIndex)}).forEach(function(t){e.serviceBrand=t.serviceBrand,e.serviceNumber=t.serviceNumber,e.serviceMode=t.serviceMode,e.trainStops=t.trainStops,e.facilitySegments=t.facilitySegments,e.pricingCategorySegments=t.pricingCategorySegments,e.operatingSchedules=t.operatingSchedules.map(function(e){return{serviceIndex:e.serviceIndex,firstDayOfOperation:new Date(e.firstDayOfOperation),operatingDays:e.operationSchedule}})})})},TrainInfoComponent=i([r.Component({template:n(401)}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.ApiService&&s.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof o.ActivatedRoute&&o.ActivatedRoute)&&t||Object])],TrainInfoComponent);var e,t}();t.TrainInfoComponent=l},401:function(e,t){e.exports='<div class="route-info-page inLeft">\r\n    <div class="antet">\r\n        <div class="logo-cfr">\r\n        </div>\r\n\r\n        <div class="contact">\r\n            <!--<span>\r\n                <i class="fa fa-map-marker" aria-hidden="true"></i> Adresa: B-dul Dinicu Golescu, nr. 38, sector 1, cod 010873 Bucuresti - ROMANIA\r\n            </span>-->\r\n            <span>\r\n                <i class="fa fa-fax" aria-hidden="true"></i> Fax: 021/319.03.39\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-envelope" aria-hidden="true"></i> E-mail: Calatori@cfrcalatori.ro\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-volume-control-phone" aria-hidden="true"></i> Telverde - 0800.88.44.44\r\n            </span>\r\n            <span>\r\n                <i class="fa fa-globe" aria-hidden="true"></i> www.cfrcalatori.ro\r\n            </span>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <div class="container card">\r\n        <div class="col-xs-8 col-sm-10  route-info">\r\n            <h1>Route {{serviceBrand}} {{serviceNumber}}</h1>\r\n            <h2>{{serviceMode}}</h2>\r\n        </div>\r\n        <div class="col-xs-4 col-sm-2  route-info-date" (click)="showOpDays = !showOpDays">\r\n            <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>{{referenceLocalDateTime | date:\'dd.MM.yyyy\'}}\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n    <div class="container no-padding">\r\n        <button class="btn operatingDay" type="button" (click)="isCalendarCollapsed = !isCalendarCollapsed"\r\n                aria-expanded="false" aria-controls="collapseExample">\r\n            <span class="showtxt">Show</span><span class="hidetxt">Hide</span> operating days\r\n        </button>\r\n\r\n        <div [ngbCollapse]="isCalendarCollapsed" [ngClass]="{in : showOpDays}">\r\n            <div class="well ">\r\n                <!--<rtt-operating-calendar *ngIf="operatingSchedules"\r\n                                         [operatingSchedules]="operatingSchedules"\r\n                                         [selectedLocalDateTime]="referenceLocalDateTime">\r\n                </rtt-operating-calendar>-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="container">\r\n        <div class="rand head">\r\n            <div class="no-padding-xs col-xs-8 col-sm-7 station">\r\n                <div class="no-padding-xs col-xs-12 col-sm-8"><i class="fa fa-map-marker" aria-hidden="true"></i> Station</div>\r\n                <div class="hidden-xs">\r\n                    <div class="col-xs-6 col-sm-2 arrival">Arrival</div>\r\n                    <div class="col-xs-6 col-sm-2 departure">Departure</div>\r\n                </div>\r\n            </div>\r\n            <div class="no-padding-xs col-xs-4 col-sm-5 comment"><i class="fa fa-info" aria-hidden="true"></i> Info</div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n\r\n        <div class="rand" *ngFor="let trainStop of trainStops">\r\n            <div class="no-padding-xs col-xs-8 col-sm-7 station">\r\n                <div class="no-padding-xs col-xs-12 col-sm-8"><strong>{{trainStop.stationName}}</strong></div>\r\n                <div class="no-padding-xs col-xs-12 visible-xs dep-arr">\r\n                    Arrival {{trainStop.arrivalLocalTime | minutesToTimeSpan}}\r\n                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                    Departure {{trainStop.departureLocalTime | minutesToTimeSpan}}\r\n                </div>\r\n                <div class="hidden-xs">\r\n                    <a class="col-xs-6 col-sm-2 arrival" [routerLink]="[\'/timetable/station-info\',\r\n                         trainStop.stationIndex,\r\n                         \'arrival\',\r\n                         referenceLocalDateTime.getTime()]">\r\n                        <span class="visible-xs-inline">Arrival</span>\r\n                        {{trainStop.arrivalLocalTime | minutesToTimeSpan}}\r\n                    </a>\r\n                    <a class="col-xs-6 col-sm-2 departure" [routerLink]="[\'/timetable/station-info\',\r\n                         trainStop.stationIndex,\r\n                         \'departure\',\r\n                         referenceLocalDateTime.getTime()]">\r\n                        <span class="visible-xs-inline">\r\n                            <i class="fa fa-long-arrow-right" aria-hidden="true"></i> Departure\r\n                        </span>\r\n                        {{trainStop.departureLocalTime | minutesToTimeSpan}}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="no-padding-xs col-xs-4 col-sm-5 comment">Train continues as TGV 2852</div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n    </div>\r\n    <div class="clearfix"></div>\r\n    <div>\r\n        <ul>\r\n            <li *ngFor="let fs of facilitySegments">\r\n                {{fs.facilityType}} - {{fs.reservationCharacteristic}} ({{fs.originLocationName}} -> {{fs.destinationLocationName}})\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div>\r\n        <ul>\r\n            <li *ngFor="let fs of pricingCategorySegments">\r\n                {{fs.pricingCategory}} ({{fs.originLocationName}} -> {{fs.destinationLocationName}})\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="container print-button"><a href="javascript:window.print()"><i class="fa fa-print" aria-hidden="true"></i> Print route</a></div>\r\n</div>'},402:function(e,t,n){"use strict";var i=n(26),a=n(396),r=n(398),o=n(400),s=[{path:"",component:a.TimetableComponent,children:[{path:"station-info",component:r.StationInfoComponent},{path:"station-info/:locationIndex/:stationEventType/:referenceLocalDateTime",component:r.StationInfoComponent},{path:"train-info/:serviceIndex/:referenceLocalDateTime",component:o.TrainInfoComponent}]}];t.timetableRouting=i.RouterModule.forChild(s)}});
//# sourceMappingURL=2.97f9bcc441e185db258c.chunk.js.map