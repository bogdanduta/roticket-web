webpackJsonp([1],{59:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(60),s=n(22),c=n(62),l=n(63),d=n(79),p=n(70),u=n(71),f=n(73),g=n(75),m=n(81),v=n(83),h=n(85),y=n(87),b=n(77),S=n(89),k=n(64),C=n(65),T=n(66),w=function(){function BookingModule(){}return BookingModule=r([i.NgModule({imports:[a.FormsModule,s.CommonModule,c.bookingRouting,S.SharedModule],declarations:[l.BookingComponent,d.BookingStepsComponent,p.BookingHomeComponent,u.BookingSearchComponent,f.BookingSelectComponent,g.BookingSelectJourneyComponent,m.JourneyDetailsComponent,v.TrainSegmentComponent,h.WaitSegmentComponent,y.WalkSegmentComponent,b.BookingSelectOfferComponent],providers:[k.BookingService,C.ApiService,T.ApiUrl]}),o("design:paramtypes",[])],BookingModule)}();t.BookingModule=w},62:function(e,t,n){"use strict";var r=n(26),o=n(63),i=n(70),a=n(71),s=n(73),c=n(75),l=n(77),d=n(67),p=[{path:"",component:o.BookingComponent,children:[{path:"home",component:i.BookingHomeComponent},{path:"search",component:a.BookingSearchComponent,data:{step:d.BookingStep.searchStep}},{path:"select",component:s.BookingSelectComponent,children:[{path:"outward",component:c.BookingSelectJourneyComponent,data:{step:d.BookingStep.selectStep}},{path:"return",component:c.BookingSelectJourneyComponent,data:{step:d.BookingStep.selectStep}},{path:"offer",component:l.BookingSelectOfferComponent,data:{step:d.BookingStep.selectStep}}]}]}];t.bookingRouting=r.RouterModule.forChild(p)},63:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64);n(68);var s=function(){function BookingComponent(e){this.bookingService=e}return BookingComponent=r([i.Component({template:n(69)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingComponent);var e}();t.BookingComponent=s},64:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(65),s=n(66),c=n(26),l=n(67),d=6e4,p=1e3,u=function(){function BookingService(e,t,n){this.apiService=e,this.router=t,this.activatedRoute=n,this.showSpinner=!1,this.showRoutes=!1,this.isReferenceDateCalendarOpened=!1,this.journeyResults=4,this.minTransferTimeList=[1,2,3,4,5,6],this.resultsCountList=[10,15,20,25,30,35,40,45,50,55,60],this.departureLocation={displayName:"BUCURESTI (all stations)",index:70051,isCity:!0,countryName:"Romania"},this.arrivalLocation={displayName:"BUDAPEST (all stations)",index:70052,isCity:!0,countryName:"Hungary"},this.bookingSteps=l.BookingStep.bookingSteps,this.searchType="oneWay";var r=new Date,o=new Date(r.getTime()-r.getTimezoneOffset()*d-r.getSeconds()*p-r.getMilliseconds());this.searchParams={searchDirection:"forward",referenceLocalDateTime:o,minTransferTime:5,maxNumberOfChanges:5,resultsCount:1,searchCriteria:"DurationFirst",stationValidityInMinutes:420,arrivalLocationIndex:null,departureLocationIndex:null,ignoreTransitLocalTrains:!0},this.returnSearchParams={searchDirection:"forward",referenceLocalDateTime:o,minTransferTime:5,maxNumberOfChanges:5,resultsCount:1,searchCriteria:"DurationFirst",stationValidityInMinutes:420,arrivalLocationIndex:null,departureLocationIndex:null,ignoreTransitLocalTrains:!0}}return BookingService.prototype.getStepStatus=function(e){return this.currentStep?e.orderNumber<this.currentStep.orderNumber?"ok":e.orderNumber===this.currentStep.orderNumber?"current":"":""},BookingService.prototype.departureLocationChange=function(e){this.departureLocation=e,e&&console.log("departureLocationUpdated from booking.service: "+e.displayName)},BookingService.prototype.arrivalLocationChange=function(e){this.arrivalLocation=e,e&&console.log("arrivalLocationUpdated from booking.service: "+e.displayName)},BookingService.prototype.outwardDateTimeChange=function(e){console.log("outwardDateTimeChange from booking.service to "+e)},BookingService.prototype.returnDateTimeChange=function(e){console.log("returnDateTimeChange from booking.service to "+e)},BookingService.prototype.changeSearchType=function(e){this.searchType=e},BookingService.prototype.search=function(){this.router.navigate(["booking/select/outward"])},BookingService.prototype.beginSearch=function(){var e={};"/booking/select/outward"===this.router.url?(Object.assign(e,this.searchParams),e.departureLocationIndex=this.departureLocation.index,e.arrivalLocationIndex=this.arrivalLocation.index):(Object.assign(e,this.returnSearchParams),e.departureLocationIndex=this.arrivalLocation.index,e.arrivalLocationIndex=this.departureLocation.index),this.journeyList=[],this.getNextJourney(e,e.resultsCount)},BookingService.prototype.modifyJourney=function(){this.outwardJourney=null,this.returnJourney=null,this.router.navigate(["booking/search"])},BookingService.prototype.getNextJourney=function(e,t){var n=this;0!=t&&(this.showSpinner=!0,this.apiService.post(s.ApiUrl.journeyApiUrl,e).toPromise().then(function(r){n.showSpinner=!1,n.showRoutes=!0;var o=r.journeyList[0];r.journeyList.forEach(function(e){n.journeyList.push(e)}),e.referenceLocalDateTime=new Date(new Date(o.departureLocalDateTime).getTime()+d),n.getNextJourney(e,t-1)},function(e){n.showSpinner=!1,console.error(e.message)}))},BookingService.prototype.swapLocations=function(){var e=this.arrivalLocation;this.arrivalLocation=this.departureLocation,this.departureLocation=e},BookingService.prototype.loadLaterJourneys=function(){var e=this,t={};"/booking/select/outward"===this.router.url?(Object.assign(t,this.searchParams),t.departureLocationIndex=this.departureLocation.index,t.arrivalLocationIndex=this.arrivalLocation.index):(Object.assign(t,this.returnSearchParams),t.departureLocationIndex=this.arrivalLocation.index,t.arrivalLocationIndex=this.departureLocation.index);var n=new Date;t.referenceLocalDateTime=new Date(n.getTime()+6e4),t.searchDirection="forward",this.showSpinner=!0,this.apiService.post(s.ApiUrl.journeyApiUrl,t).toPromise().then(function(t){t.journeyList.forEach(function(t){e.journeyList.push(t),e.showSpinner=!1})})},BookingService.prototype.loadEarlierJourneys=function(){return void alert("Not implemented!")},BookingService.prototype.setOutwardJourney=function(e){this.outwardJourney=e,"oneWay"===this.searchType?this.router.navigate(["booking/select/offer"]):this.router.navigate(["booking/select/return"])},BookingService.prototype.setReturnJourney=function(e){this.returnJourney=e,this.router.navigate(["booking/select/offer"])},BookingService.prototype.showSetOutwardJourneyButton=function(){return"/booking/select/outward"===this.router.url},BookingService.prototype.showSetReturnJourneyButton=function(){return"/booking/select/return"===this.router.url},BookingService=r([i.Injectable(),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ApiService&&a.ApiService)&&e||Object,"function"==typeof(t="undefined"!=typeof c.Router&&c.Router)&&t||Object,"function"==typeof(n="undefined"!=typeof c.ActivatedRoute&&c.ActivatedRoute)&&n||Object])],BookingService);var e,t,n}();t.BookingService=u},67:function(e,t){"use strict";var n=function(){function BookingStep(){}return BookingStep.searchStep={orderNumber:1,className:"fa-search",displayName:"Search",href:"booking/search",name:"booking.search"},BookingStep.selectStep={orderNumber:2,className:"fa-list-ul",displayName:"Select",href:"booking/select/outward",name:"booking.select"},BookingStep.ticketStep={orderNumber:3,className:"fa-ticket",displayName:"Ticket",href:"booking/ticket",name:"booking.ticket"},BookingStep.payStep={orderNumber:4,className:"fa-credit-card",displayName:"Pay",href:"booking/pay",name:"booking.pay"},BookingStep.bookStep={orderNumber:5,className:"fa-check-square-o",displayName:"Book",href:"booking/book",name:"booking.book"},BookingStep.confirmStep={orderNumber:6,className:"fa-shield",displayName:"Confirm",href:"booking/confirm",name:"booking.confirm"},BookingStep.bookingSteps=[BookingStep.searchStep,BookingStep.selectStep,BookingStep.ticketStep,BookingStep.payStep,BookingStep.bookStep,BookingStep.confirmStep],BookingStep}();t.BookingStep=n},69:function(e,t){e.exports='<div class="container p30 inLeft">\r\n    <rtt-booking-steps></rtt-booking-steps>\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n'},70:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function BookingHomeComponent(){}return BookingHomeComponent=r([i.Component({template:"<h1>Booking Home Component</h1>"}),o("design:paramtypes",[])],BookingHomeComponent)}();t.BookingHomeComponent=a},71:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function BookingSearchComponent(e){this.bookingService=e}return BookingSearchComponent=r([i.Component({selector:"rtt-booking-search",template:n(72)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSearchComponent);var e}();t.BookingSearchComponent=s},72:function(e,t){e.exports='\r\n<form (ngSubmit)="bookingService.search()">\r\n    <div class="row">\r\n        <div class="col-xs-12 nopadding">\r\n            <h2><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> Find your journey</h2>\r\n\r\n            <div class="btn-group btn-group-justified direction" role="group" aria-label="...">\r\n\r\n                <div class="btn-group" role="group">\r\n                    <button type="button" class="btn"\r\n                            [ngClass]="{\'btn-success\':bookingService.searchType == \'oneWay\'}"\r\n                            (click)="bookingService.changeSearchType(\'oneWay\')">\r\n                        <span>One way</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class="btn-group" role="group">\r\n                    <button type="button" class="btn"\r\n                            [ngClass]="{\'btn-success\': bookingService.searchType == \'roundtrip\'}"\r\n                            (click)="bookingService.changeSearchType(\'roundtrip\')">\r\n                        <span>Roundtrip</span>\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class="card destination">\r\n\r\n                <div class="dep-journey">\r\n                    <div class="country">From</div>\r\n                    <rtt-station-typeahead\r\n                        [location]="bookingService.departureLocation"\r\n                        (locationChange)="bookingService.departureLocationChange($event)">                        \r\n                    </rtt-station-typeahead>\r\n                </div>\r\n            \r\n                <button (click)="bookingService.swapLocations()" type="button" class="btn swap" aria-label="swap" tabindex="3">\r\n                    <span class="glyphicon glyphicon-sort" aria-hidden="true"></span>\r\n                    Swap\r\n                </button>\r\n\r\n                <div class="arr-journey">\r\n                    <div class="country">To</div>\r\n                    <rtt-station-typeahead \r\n                        [location]="bookingService.arrivalLocation"\r\n                        (locationChange)="bookingService.arrivalLocationChange($event)">                        \r\n                    </rtt-station-typeahead>\r\n                </div>\r\n\r\n                <div class="clearfix"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n    <div class="row">\r\n        <div class="col-xs-12  col-lg-6 nopadding">\r\n            <br />\r\n            <h2>\r\n                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n                Outward date\r\n            </h2>\r\n\r\n            <rtt-date-time (dateTimeChange)="bookingService.outwardDateTimeChange($event)"> </rtt-date-time>\r\n        </div>\r\n\r\n        <div  [ngClass]="{\'soon\': bookingService.searchType === \'oneWay\'}" class="col-xs-12  col-lg-6 nopadding-right">\r\n            <br />\r\n            <h2>\r\n                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n                Return date\r\n            </h2>\r\n\r\n            <rtt-date-time (dateTimeChange)="bookingService.returnDateTimeChange($event)"></rtt-date-time>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">       \r\n        <div [ngbCollapse]="!isAdvancedSearchExpanded">           \r\n            <div class="col-xs-12  col-lg-4 nopadding">\r\n                <br />\r\n                <h2><i class="fa fa-random" aria-hidden="true"></i> Maximum changes</h2>\r\n                <div class="card col-lg-12 ">\r\n                    <div ngbDropdown class="d-inline-block">\r\n                        <button type="button" class="btn btn-outline-primary" id="maxNumberOfChangesDropdownMenu" ngbDropdownToggle>\r\n                            {{bookingService.searchParams.maxNumberOfChanges}}</button>\r\n                        <div class="dropdown-menu" aria-labelledby="maxNumberOfChangesDropdownMenu">\r\n                            <button type="button" class="dropdown-item" \r\n                                (click)="bookingService.searchParams.maxNumberOfChanges = 0;">Direct train</button>\r\n                            <button type="button" class="dropdown-item" *ngFor="let i of [1,2,3,4,5]" \r\n                                (click)="bookingService.searchParams.maxNumberOfChanges = i;">{{i}} changes</button>\r\n                        </div>\r\n                    </div> \r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-xs-12  col-lg-4 nopadding-right">\r\n                <br />\r\n                <h2><i class="fa fa-list-ol" aria-hidden="true"></i> How many routes?</h2>\r\n                    <div class="card col-lg-12 ">\r\n                        <div ngbDropdown class="d-inline-block">\r\n                            <button type="button" class="btn btn-outline-primary" id="resultsCountDropdownMenu" ngbDropdownToggle>\r\n                                {{bookingService.searchParams.resultsCount}}</button>\r\n                            <div class="dropdown-menu" aria-labelledby="resultsCountDropdownMenu">\r\n                                <button type="button" class="dropdown-item" *ngFor="let i of [1,2,3,4,5]" \r\n                                    (click)="bookingService.searchParams.resultsCount = i;">{{i}} routes</button>\r\n                            </div>\r\n                        </div> \r\n                    </div>\r\n                </div>\r\n\r\n            <div class="col-xs-12  col-lg-4 nopadding-right">\r\n                <br />\r\n                <h2><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> \r\n                How long you need to change trains?</h2>\r\n                <div class="card col-lg-12 ">\r\n                    <div ngbDropdown class="d-inline-block">\r\n                        <button type="button" class="btn btn-outline-primary" id="minTransferTimeDropdownMenu" ngbDropdownToggle>\r\n                            {{bookingService.searchParams.minTransferTime}}</button>\r\n                        <div class="dropdown-menu" aria-labelledby="minTransferTimeDropdownMenu">\r\n                            <button type="button" class="dropdown-item" *ngFor="let i of [5,10,15,20,25,30]" \r\n                                (click)="bookingService.searchParams.minTransferTime = i;">{{i}} minutes</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row" *ngIf="bookingService.searchParams.referenceLocalDateTime">\r\n            <div class="col-xs-12 col-sm-6">\r\n                <button type="button" (click)="isAdvancedSearchExpanded = !isAdvancedSearchExpanded" >\r\n                    <i class="fa fa-plus" aria-hidden="true"></i> {{ !isAdvancedSearchExpanded ? \'More\' : \'Less\'}} search options                                    \r\n                </button>\r\n            </div>\r\n            <div class="col-xs-12 col-sm-6">\r\n                <button class="search" type="submit" \r\n                    (click)="bookingService.showRoutes = true" \r\n                    [ngClass]="{\'disable\' : bookingService.showSpinner}">\r\n                    Search route\r\n                </button>\r\n            </div>\r\n            <div class="col-xs-12"></div>\r\n        </div>\r\n\r\n    </div>    \r\n</form>'},73:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function BookingSelectComponent(e){this.bookingService=e}return BookingSelectComponent=r([i.Component({template:n(74)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectComponent);var e}();t.BookingSelectComponent=s},74:function(e,t){e.exports='<div class="row card selected-tickets">\r\n\r\n    <div class="col-xs-12 col-sm-12 col-md-6 selected-ticket">\r\n        <div class="center">\r\n            <span>Outward journey:</span>\r\n            <div class="info-ticket">\r\n                <div class="block">\r\n                    <div class="from">{{bookingService.departureLocation.displayName}}</div>\r\n                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                    <div class="to">{{bookingService.arrivalLocation.displayName}}</div>\r\n                </div>\r\n\r\n                <div class="block infos">\r\n                    <span *ngIf="!bookingService.outwardJourney">\r\n                        earliest dep at: {{bookingService.searchParams.referenceLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                    </span>\r\n                    <span *ngIf="bookingService.outwardJourney">\r\n                        dep at: {{bookingService.outwardJourney.departureLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="bookingService.searchType === \'roundtrip\'" class="col-xs-12 col-sm-12 col-md-6 selected-ticket">\r\n        <span>Return journey:</span>\r\n        <div class="info-ticket">\r\n            <div class="block">\r\n                <div class="from">{{bookingService.arrivalLocation.displayName}}</div> \r\n                <i class="fa fa-long-arrow-right" aria-hidden="true"></i>\r\n                <div class="to">{{bookingService.departureLocation.displayName}}</div>\r\n            </div>\r\n\r\n            <div class="block infos">\r\n                <span *ngIf="!bookingService.returnJourney">\r\n                    earliest dep at: {{bookingService.returnSearchParams.referenceLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                </span>\r\n                <span *ngIf="bookingService.returnJourney">\r\n                    dep at: {{bookingService.returnJourney.departureLocalDateTime | date:\'d MMM y, HH:mm\': \'+00\'}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="col-xs-12 col-sm-3 pull-right">\r\n        <button href="" class="modify-journey" (click)="bookingService.modifyJourney()">Modify journey</button>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>'},75:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function BookingSelectJourneyComponent(e){this.bookingService=e}return BookingSelectJourneyComponent.prototype.ngOnInit=function(){this.bookingService.beginSearch()},BookingSelectJourneyComponent=r([i.Component({template:n(76)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectJourneyComponent);var e}();t.BookingSelectJourneyComponent=s},76:function(e,t){e.exports='<div *ngIf="bookingService.showRoutes">\r\n    <div class="row">\r\n        <hr />\r\n\r\n        <h2 align="center">\r\n            <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>\r\n            <span *ngIf="bookingService.showSetOutwardJourneyButton()">\r\n                Outward journey on {{bookingService.searchParams.referenceLocalDateTime | date:\'dd.MM.yyyy HH:mm\':\'+00\'}}\r\n            </span>\r\n            <span *ngIf="bookingService.showSetReturnJourneyButton()">\r\n                Return journey on {{bookingService.returnSearchParams.referenceLocalDateTime | date:\'dd.MM.yyyy HH:mm\':\'+00\'}}\r\n            </span>\r\n        </h2>\r\n    </div>\r\n\r\n    <div class="row head">\r\n        <div class="col-sm-5">\r\n            <div class="col-sm-12 nopadding">\r\n                <div class="col-xs-12 col-sm-9">\r\n                    <div class="hidden-xs">Station </div>\r\n                    <div class="visible-xs filters"><i class="fa fa-sort" aria-hidden="true"></i> Sorting by </div>\r\n                </div>\r\n                <div class="col-xs-4  col-sm-3">\r\n                    <div class="filter-time active">Time <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-xs-8  col-sm-4">\r\n            <div class="col-xs-6 col-sm-4 ">\r\n                <div class="duration">Duration <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-4 ">\r\n                <div class="changes">Changes <i class="fa fa-caret-down" aria-hidden="true"></i></div>\r\n            </div>\r\n            <div class="col-sm-4 hidden-xs">\r\n                <div class="train-services">Services</div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-3 hidden-xs">\r\n            <div class="">\tFlexpreis</div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="load-routes" (click)="bookingService.loadEarlierJourneys()">Load earlier routes</div>\r\n    </div>\r\n\r\n    <rtt-journey-detail *ngFor="let journey of bookingService.journeyList" [journey]="journey">        \r\n    </rtt-journey-detail>\r\n\r\n    <div class="preloader2" *ngIf="bookingService.showSpinner">\r\n        <div class="roata"></div> <div class="roata"></div> <div class="osie"><div class="brat"></div></div>\r\n        <div class="search-text">Searching<span>.</span><span>.</span><span>.</span></div>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <div class="load-routes" (click)="bookingService.loadLaterJourneys()">Load later routes</div>\r\n    </div>\r\n</div>'},77:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function BookingSelectOfferComponent(e){this.bookingService=e}return BookingSelectOfferComponent=r([i.Component({template:n(78)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingSelectOfferComponent);var e}();t.BookingSelectOfferComponent=s},78:function(e,t){e.exports='<div>\r\n    <ul>\r\n        <li *ngFor="let segment of bookingService.outwardJourney.facilityes">\r\n            {{segment.specificFacilityTypeId}} - {{segment.reservationCharacteristic}} ({{segment.originLocationName}} -> {{segment.destinationLocationName}})\r\n        </li>\r\n    </ul>\r\n</div>\r\n<!--<div>\r\n    <ul>\r\n        <li *ngFor="let segment of bookingService.returnJourney.pricingCategorySegments">\r\n            {{segment.pricingCategory}} ({{segment.originLocationName}} -> {{segment.destinationLocationName}})\r\n        </li>\r\n    </ul>\r\n</div>-->\r\n\r\n<pre style="display:inline-table">{{bookingService.outwardJourney | json}} </pre>\r\n<pre style="display:inline-table">{{bookingService.returnJourney | json}} </pre>'},79:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function BookingStepsComponent(e){this.bookingService=e}return BookingStepsComponent=r([i.Component({selector:"rtt-booking-steps",template:n(80)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],BookingStepsComponent);var e}();t.BookingStepsComponent=s},80:function(e,t){e.exports='<div class="query">\r\n    <div class="row col-xs-12 steps">\r\n        <div *ngFor="let step of bookingService.bookingSteps" class="col-xs-2 step {{bookingService.getStepStatus(step)}}">\r\n            <a href="#">                    \r\n                <div class="ic"><i class="fa {{step.className}}" aria-hidden="true"></i></div>\r\n                <div class="txt">{{step.displayName}}</div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="clearfix"></div>        \r\n</div>'},81:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(64),s=function(){function JourneyDetailsComponent(e){this.bookingService=e}return r([i.Input(),o("design:type",Object)],JourneyDetailsComponent.prototype,"journey",void 0),JourneyDetailsComponent=r([i.Component({selector:"rtt-journey-detail",template:n(82)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.BookingService&&a.BookingService)&&e||Object])],JourneyDetailsComponent);var e}();t.JourneyDetailsComponent=s},82:function(e,t){e.exports='<div class="row card fadeIn">\r\n    <div class="flex">\r\n        <div class="col-sm-5">\r\n            <div class="col-sm-12 nopadding bb1 flex">\r\n                <div class="col-sm-9 departure">\r\n                    <span class="visible-xs"><i class="fa fa-map-marker" aria-hidden="true"></i> From</span>\r\n                    <div class="">{{journey.departureStation}}</div>\r\n                </div>\r\n                <div class="col-sm-3 departure-time">\r\n                    <div class="">\r\n                        <div class="date"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> \r\n                        {{journey.departureLocalDateTime | date : \'dd.MM.yy\'}}</div>\r\n                        <i class="fa fa-clock-o" aria-hidden="true"></i> \r\n                        {{journey.departureLocalDateTime | date : \'HH:mm\' : \'+00\'}}\r\n\r\n                        <span class="visible-xs-inline depart"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> departure</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-12 nopadding flex">\r\n\r\n                <div class="col-sm-9 arrive">\r\n                    <span class="visible-xs"><i class="fa fa-map-marker" aria-hidden="true"></i> To</span>\r\n                    <div class="">{{journey.arrivalStation}}</div>\r\n                </div>\r\n                <div class="col-sm-3 arrive-time">\r\n                    <div class="">\r\n                        <div class="date"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> \r\n                        {{journey.arrivalLocalDateTime | date : \'dd.MM.yy\'}}</div>\r\n                        <i class="fa fa-clock-o" aria-hidden="true"></i> {{journey.arrivalLocalDateTime | date : \'HH:mm\' : \'+00\'}}\r\n\r\n                        <span class="visible-xs-inline arr"><i class="fa fa-long-arrow-right" aria-hidden="true"></i> arrive</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-4 flex-center">\r\n            <div class="col-xs-6  col-sm-4">\r\n                <div class="travel-time">\r\n                    <span class="visible-xs-inline">\r\n                        <i class="fa fa-hourglass-half" aria-hidden="true"></i> Duration  -\r\n                    </span> {{journey.durationInMinutes | minutesToTimeSpan}}\r\n                </div>\r\n            </div>\r\n            <div class="col-xs-6 col-sm-4">\r\n                <div class="number-of-changes">\r\n                    <span class="visible-xs-inline">\r\n                        <i class="fa fa-random" aria-hidden="true"></i> Changes -\r\n                    </span>{{journey.numberOfChanges}}\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="train-services">\r\n                    <span class="hidden-xs">R, ICx</span>  <span class="visible-xs">\r\n                        Services: <i class="fa fa-wheelchair" aria-hidden="true"></i>\r\n                        <i class="fa fa-bed" aria-hidden="true"></i>\r\n                        <i class="fa fa-cutlery" aria-hidden="true"></i>\r\n                    </span>\r\n                </div>\r\n                <div class="reservation"><span class="visible-xs-inline">Need</span> \r\n                R<span class="visible-xs-inline">eservation</span></div>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-3 flex-colum">\r\n            <div class="ticket">Fares not available</div>\r\n            <button class="return-routes"\r\n                    *ngIf="bookingService.showSetOutwardJourneyButton()"\r\n                    (click)="bookingService.setOutwardJourney(journey)"\r\n                    [ngSwitch]="bookingService.searchType">\r\n                <i class="fa fa-undo" aria-hidden="true"></i>\r\n                <span *ngSwitchCase="\'oneWay\'">To offer selection</span>\r\n                <span *ngSwitchCase= "\'roundtrip\'">To return journey</span>\r\n            </button>\r\n            <button class="return-routes"\r\n                    *ngIf="bookingService.showSetReturnJourneyButton()"\r\n                    (click)="bookingService.setReturnJourney(journey)">\r\n                <i class="fa fa-undo" aria-hidden="true"></i>\r\n                <span>To offer selection</span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class="col-xs-12">\r\n\r\n        <div [ngbCollapse]="!isRouteExpanded">\r\n            <div class="well">\r\n                <template ngFor let-segment [ngForOf]= "journey.segments">\r\n                    <div [ngSwitch]="segment.segmentType">\r\n                        <rtt-train-segment *ngSwitchCase="0" [segment]="segment"></rtt-train-segment>                \r\n                        <rtt-wait-segment *ngSwitchCase="1" [segment]="segment"></rtt-wait-segment>\r\n                        <rtt-walk-segment *ngSwitchCase="2" [segment]="segment"></rtt-walk-segment>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n        </div>\r\n\r\n        <button class="route-details" type="button" (click)="isRouteExpanded = !isRouteExpanded">\r\n            Result in ({{journey.elapsedMilliseconds | number:0}}) ms - {{!isRouteExpanded ? \'Open\' : \'Close\'}} route details \r\n            <i class="fa fa-chevron-down collapsed" aria-hidden="true"></i>\r\n        </button>\r\n\r\n    </div>\r\n</div>\r\n';
},83:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function TrainSegmentComponent(){}return TrainSegmentComponent.prototype.getReferenceLocalDateTime=function(e){return new Date(e).getTime()},r([i.Input(),o("design:type",Object)],TrainSegmentComponent.prototype,"segment",void 0),TrainSegmentComponent=r([i.Component({selector:"rtt-train-segment",template:n(84)}),o("design:paramtypes",[])],TrainSegmentComponent)}();t.TrainSegmentComponent=a},84:function(e,t){e.exports='<div class="section">\r\n    <div class="route"></div>\r\n    <div class="info">\r\n        <div class="from">\r\n            <div class="col-xs-12">\r\n                <div class="col-xs-12 col-sm-9 station">\r\n                    {{segment.departure.stationName}}<div class="col-xs-12 departure">\r\n                        <span class="time-dep">\r\n                            <strong>\r\n                                <i class="fa fa-clock-o" aria-hidden="true"></i>\r\n                                {{segment.departure.localDateTime | date:\'HH:mm\' : \'+00\'}}\r\n                            </strong> <i class="fa fa-long-arrow-right" aria-hidden="true"></i> departure\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class="col-xs-12 col-sm-3 train">\r\n                    <span class="pull-right-sm">\r\n                        <template ngFor let-train [ngForOf]="segment.trains">\r\n                            <a [routerLink]="[\'/train-info\', train.trainIndex, getReferenceLocalDateTime(train.trainReferenceLocalDateTime)]" target="_blank">\r\n                                <span class="transport train"> {{train.serviceNumber}}</span>\r\n                            </a>                        \r\n                            <span ng-repeat-end class="services">\r\n                                <i class="fa fa-wheelchair" aria-hidden="true"></i>\r\n                                <i class="fa fa-bed" aria-hidden="true"></i>\r\n                                <i class="fa fa-cutlery" aria-hidden="true"></i>\r\n                            </span>\r\n                        </template>\r\n                    </span>\r\n                </div>\r\n                <div class="col-xs-12 info-route">\r\n                    <ul>\r\n                        <li *ngFor="let facility of segment.facilityes">\r\n                            {{facility.specificFacilityTypeId}} ({{facility.originLocationName}} -> {{facility.destinationLocationName}})\r\n                        </li>\r\n                    </ul>                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="stops">\r\n            <div class="clearfix"></div>\r\n            <div [ngbCollapse]="!isStopDetailsExpanded" style="height: 0px;">\r\n                <div class="well">\r\n                    <div class="row">\r\n                        <div class="col-xs-12 details-route-section">\r\n                            <div *ngFor="let stop of segment.stops" class="city">\r\n                                <span class="station">\r\n                                    {{stop.stationName}}\r\n                                    <span class="time"> \r\n                                        <strong>{{stop.departureLocalTime | minutesToLocalTime}}</strong> - departure\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button class="route-details" type="button" (click)="isStopDetailsExpanded = !isStopDetailsExpanded">\r\n                {{segment.stops.length}} stops <span class="stops-details">stops details</span>\r\n            </button>\r\n\r\n            <div class="clearfix"></div>\r\n        </div>\r\n        <div class="to">\r\n            <div class="col-xs-12 station">\r\n                {{segment.arrival.stationName}}\r\n                <div class="col-xs-12 arrive">\r\n                    <span class="time-arr">\r\n                        <strong>\r\n                            <i class="fa fa-clock-o" aria-hidden="true"></i>\r\n                            {{segment.arrival.localDateTime | date:\'HH:mm\': \'+00\'}}\r\n                        </strong> <i class="fa fa-long-arrow-right" aria-hidden="true"></i> arrive\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n</div>'},85:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function WaitSegmentComponent(){}return r([i.Input(),o("design:type",Object)],WaitSegmentComponent.prototype,"segment",void 0),WaitSegmentComponent=r([i.Component({selector:"rtt-wait-segment",template:n(86)}),o("design:paramtypes",[])],WaitSegmentComponent)}();t.WaitSegmentComponent=a},86:function(e,t){e.exports='<div class="section transfer">\r\n    <div class="route"></div>\r\n    <div class="info">\r\n        <div class="col-xs-12 details-route-section">\r\n            <div class="city">\r\n                <span class="station">\r\n                    Transfer time {{segment.durationInMinutes | minutesToTimeSpan}}\r\n                </span>\r\n            </div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n</div>'},87:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function WalkSegmentComponent(){}return r([i.Input(),o("design:type",Object)],WalkSegmentComponent.prototype,"segment",void 0),WalkSegmentComponent=r([i.Component({selector:"rtt-walk-segment",template:n(88)}),o("design:paramtypes",[])],WalkSegmentComponent)}();t.WalkSegmentComponent=a},88:function(e,t){e.exports="<p>walk segment</p>"},89:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(60),s=n(22),c=n(26),l=n(90),d=n(386),p=n(389),u=n(391),f=n(393),g=n(394),m=function(){function SharedModule(){}return SharedModule=r([i.NgModule({imports:[a.FormsModule,s.CommonModule,l.NgbModule,c.RouterModule],declarations:[d.DateTimeComponent,p.StationTypeaheadComponent,u.OperatingCalendarComponent,f.MinutesToTimeSpanPipe,g.MinutesToLocalTimePipe],exports:[l.NgbModule,d.DateTimeComponent,p.StationTypeaheadComponent,u.OperatingCalendarComponent,f.MinutesToTimeSpanPipe,g.MinutesToLocalTimePipe]}),o("design:paramtypes",[])],SharedModule)}();t.SharedModule=m},386:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function DateTimeComponent(){this.dateTimeChange=new i.EventEmitter,this.lastHour=-1}return DateTimeComponent.prototype.updateUIBindings=function(){if(!this.dateTime){var e=new Date;this.dateTime=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0)}this.date={year:this.dateTime.getFullYear(),month:this.dateTime.getMonth(),day:this.dateTime.getDate()},this.time={hour:this.dateTime.getHours(),minute:this.dateTime.getMinutes(),second:this.dateTime.getSeconds()},this.lastHour=this.time.hour},DateTimeComponent.prototype.ngOnInit=function(){this.updateUIBindings()},DateTimeComponent.prototype.ngOnChanges=function(){this.updateUIBindings()},DateTimeComponent.prototype.change=function(){if(null!=this.date&&null!=this.time){this.lastHour=this.time.hour;var e=new Date(this.date.year,this.date.month,this.date.day,this.time.hour,this.time.minute,this.time.second);this.dateTimeChange.emit(e)}},r([i.Input(),o("design:type",Object)],DateTimeComponent.prototype,"dateTime",void 0),r([i.Output(),o("design:type",Object)],DateTimeComponent.prototype,"dateTimeChange",void 0),DateTimeComponent=r([i.Component({selector:"rtt-date-time",template:n(387)}),o("design:paramtypes",[])],DateTimeComponent)}();t.DateTimeComponent=a},387:function(e,t,n){e.exports='<div class="card">\r\n    <div class="col-xs-12 col-sm-8">\r\n        <div class="input-group top10">\r\n            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" \r\n                [ngModel]="date" \r\n                (ngModelChange)="change()"\r\n                ngbDatepicker #d="ngbDatepicker">  \r\n            <div class="input-group-addon" (click)="d.toggle()" >\r\n                <img src="'+n(388)+'" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>\r\n            </div>\r\n \r\n          </div>\r\n    </div>\r\n\r\n    <div class="col-xs-12 col-sm-4 date-time">\r\n        <div class="input-group">\r\n            <ngb-timepicker type="text" class="time" title="Time"\r\n                [(ngModel)] ="time" \r\n                (ngModelChange)="change()">\r\n            </ngb-timepicker>\r\n        </div>\r\n        <div class="clearfix"></div>\r\n    </div>\r\n\r\n    <div class="clearfix"></div>\r\n</div> \r\n'},388:function(e,t,n){e.exports=n.p+"assets/calendar-icon.0b5d4224acf7f13c4fd831481c8aed76.svg"},389:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=n(65),s=n(91);n(205),n(217),n(221),n(334);var c=function(){function StationTypeaheadComponent(e){var t=this;this.apiService=e,this.locationChange=new i.EventEmitter,this.formatter=function(e){return e.displayName},this.search=function(e){return e.debounceTime(300).distinctUntilChanged()["do"](function(e){t._searching=e.length>0}).switchMap(function(e){return""===e?s.Observable.of([]):t.apiService.getLocations(e)})["do"](function(){t._searching=!1})}}return StationTypeaheadComponent.prototype.selectItem=function(e){this.locationChange.emit(e.item)},r([i.Input(),o("design:type",Object)],StationTypeaheadComponent.prototype,"location",void 0),r([i.Output(),o("design:type",Object)],StationTypeaheadComponent.prototype,"locationChange",void 0),StationTypeaheadComponent=r([i.Component({selector:"rtt-station-typeahead",template:n(390)}),o("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ApiService&&a.ApiService)&&e||Object])],StationTypeaheadComponent);var e}();t.StationTypeaheadComponent=c},390:function(e,t){e.exports='<template #rt let-r="result" let-t="term">\r\n  {{ r.displayName }} ({{ r.countryName }})\r\n</template>\r\n\r\n<input type="text" class="form-control" placeholder="search for stations/cities"\r\n    (selectItem) = "selectItem($event)"\r\n    [inputFormatter] = "formatter"\r\n    [editable]="\'false\'"\r\n    [ngModel]="location" \r\n    [ngbTypeahead]="search" \r\n    [resultTemplate]="rt"/>'},391:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=864e5,s=function(){function OperatingCalendarComponent(){this.monthNames=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","nov","dec"],this.dayNames=["L","Ma","Mi","J","V","S","D"],this.months=[]}return OperatingCalendarComponent.prototype.ngOnInit=function(){if(this.operatingSchedules){for(var e=new Date,t=new Date,n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth()),o=n,i=[],s=[];o<=r;){var c=this.createBlankOperatingMonth(o),l=o.getFullYear();void 0===s[l]&&(s[l]=[]);var d=o.getMonth();s[l][d]=c,this.months.push(c),o=this.getNextMonth(o)}this.operatingSchedules.forEach(function(e,t){for(var n=0;n<e.operatingDays.length;n++)if("1"===e.operatingDays.charAt(n)){var r=new Date(e.firstDayOfOperation.getTime()+a*n),o=r.getFullYear(),i=r.getMonth(),c=r.getDate(),l=s[o][i],d=l.weekDaysByIndex[c];d.isOperating=!0,d.distinctIndex=t,d.date=r,d.serviceIndex=e.serviceIndex}}),s.forEach(function(e){e.forEach(function(e){e.operatingTypeClass="none",e.weekDaysByIndex.some(function(e){return e.isOperating})&&(e.operatingTypeClass="partial"),e.weekDaysByIndex.every(function(e){return e.isOperating})&&(e.operatingTypeClass="full")})});var p=s[this.selectedLocalDateTime.getFullYear()][this.selectedLocalDateTime.getMonth()];p.weekDaysByIndex[this.selectedLocalDateTime.getDate()].isSelected=!0,this.months=i,this.selectedMonth=p}},OperatingCalendarComponent.prototype.getNextMonth=function(e){var t;return t=11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1)},OperatingCalendarComponent.prototype.createBlankOperatingMonth=function(e){var t=[],n=[],r={date:e,name:this.monthNames[e.getMonth()],weekDays:t,weekDaysByIndex:n},o=new Date(e.getFullYear(),e.getMonth(),1),i=new Date(e.getFullYear(),e.getMonth()+1,0),a=(o.getDay()+6)%7,s=i.getDate(),c=Math.ceil((a+s)/7);this.dayNames.forEach(function(e,n){t[n]={dayName:e,dayNumbers:[]};for(var r=0;r<c;r++)t[n].dayNumbers.push({})});for(var l=0;l<s;l++){var d=a+l,p=d%7,u=Math.floor(d/7),f={displayText:l+1,isOperating:!1};t[p].dayNumbers[u]=f,n[l+1]=f}return r},r([i.Input(),o("design:type",Object)],OperatingCalendarComponent.prototype,"operatingSchedules",void 0),r([i.Input(),o("design:type",Object)],OperatingCalendarComponent.prototype,"selectedLocalDateTime",void 0),OperatingCalendarComponent=r([i.Component({selector:"rtt-operating-calendar",template:n(392)}),o("design:paramtypes",[])],OperatingCalendarComponent)}();t.OperatingCalendarComponent=s},392:function(e,t){e.exports='test\r\n<div id="calendar">\r\n    <div class="calendar">\r\n        <div class="mounths">\r\n            <div *ngFor="let trafficMonth of months" class="mounth {{trafficMonth.operatingTypeClass}}" \r\n                title="{{trafficMonth.date | date:\'dd.MM.yyyy\'}}">\r\n                <label>\r\n                    <input type="button" [ngModel]="selectedMonth" (click)="selectedMonth = trafficMonth" />\r\n                    <span>{{trafficMonth.date | date:\'MMM\'}}</span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class="dec">\r\n            <div class="day" *ngFor="let trafficWeek of selectedMonth.weekDays">\r\n                {{trafficWeek.dayName}}\r\n                <div *ngFor="let trafficDay of trafficWeek.dayNumbers" \r\n                     class="date"\r\n                     [ngClass]="{\'active\': trafficDay.isOperating, \'selected\': trafficDay.isSelected}"\r\n                     title="{{trafficDay.date | date:\'dd.MM.yyyy\'}}">\r\n                    <a *ngIf="trafficDay.isOperating" [attr.data-distinct-value]="trafficDay.distinctIndex"\r\n                       [routerLink]="[\'/train-info\', trafficDay.serviceIndex, trafficDay.date.getTime() ]">\r\n                       {{trafficDay.displayText}}\r\n                    </a>\r\n                    <span *ngIf="!trafficDay.isOperating">{{trafficDay.displayText}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="clearfix"></div>        \r\n    </div>\r\n</div>\r\n'},393:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function MinutesToTimeSpanPipe(){}return MinutesToTimeSpanPipe.prototype.transform=function(e){if(void 0===e||null===e)return"";var t=Math.floor(e/60),n="";t<10&&(n+="0"),n+=t+":";var r=e%60;return r<10&&(n+="0"),n+=r},MinutesToTimeSpanPipe=r([i.Pipe({name:"minutesToTimeSpan"}),o("design:paramtypes",[])],MinutesToTimeSpanPipe)}();t.MinutesToTimeSpanPipe=a},394:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(3),a=function(){function MinutesToLocalTimePipe(){}return MinutesToLocalTimePipe.prototype.transform=function(e){var t=Math.floor(e/60),n="";t<10&&(n="0"+t+":");var r=e%60;return r<10&&(n+="0"+r),n},MinutesToLocalTimePipe=r([i.Pipe({name:"minutesToLocalTime"}),o("design:paramtypes",[])],MinutesToLocalTimePipe)}();t.MinutesToLocalTimePipe=a}});
//# sourceMappingURL=1.97f9bcc441e185db258c.chunk.js.map